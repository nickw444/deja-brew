(this.webpackJsonpdeja_brew_frontend=this.webpackJsonpdeja_brew_frontend||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){e.exports={ordersPage:"orders_ordersPage__qjHwO",ordersGrid:"orders_ordersGrid__5rSH_",orderCardButton:"orders_orderCardButton__2fSzi",loading:"orders_loading__12HSt",loadingIndicator:"orders_loadingIndicator__dOet_",orderDetails:"orders_orderDetails__3HURH",coffeeTypeLabel:"orders_coffeeTypeLabel__LO06S",extrasLabel:"orders_extrasLabel__oOqQa",orderStatusLabel:"orders_orderStatusLabel__2Gpnr",userDetails:"orders_userDetails__26zh8",userAvatar:"orders_userAvatar__YsYuA",userName:"orders_userName__3m3Oz"}},,function(e,t,r){e.exports={button:"button_button__2CF7H",stretch:"button_stretch__1hwtB",iconContainer:"button_iconContainer__2CiVJ",left:"button_left__2Fjm7",right:"button_right__3JMYh",buttonLabel:"button_buttonLabel__15zNZ",primary:"button_primary__3GAs6",secondary:"button_secondary__3HU62",link:"button_link__2yRjs",chromeless:"button_chromeless__8dw-G"}},,,,,,,function(e,t,r){e.exports={orderTile:"order_tile_orderTile__2sTYh",imageContainer:"order_tile_imageContainer__3pchS",image:"order_tile_image__1smDC",infoContainer:"order_tile_infoContainer__3B-Kw",coffeeType:"order_tile_coffeeType__3Pbk1",extrasLabel:"order_tile_extrasLabel__1O7jm",status:"order_tile_status__3dsTr"}},function(e,t,r){e.exports={header:"header_header__hC3A-",appLogo:"header_appLogo__wu6f2",holder:"header_holder__2lp--",profile:"header_profile__3h7xM",avatarImg:"header_avatarImg__o17Mm",hasBackButton:"header_hasBackButton__1eSkM",backButton:"header_backButton__HvXw6"}},,function(e,t,r){e.exports={stepper:"stepper_stepper__3nURO",button:"stepper_button__18Bcw",stepperValue:"stepper_stepperValue__30uqU",stepperValueInner:"stepper_stepperValueInner__2P8ZD"}},,,,function(e,t,r){e.exports={icon:"icons_icon__2xztb",small:"icons_small__2mStb",medium:"icons_medium__34lP5",large:"icons_large__1cV9B"}},,function(e,t,r){e.exports={titleMedium:"typography_titleMedium__24QDr",titleSmall:"typography_titleSmall__25o-f",paragraph:"typography_paragraph__1QY4X"}},,,,,function(e,t,r){e.exports={divider:"divider_divider__2NmCv",withText:"divider_withText__1yEVK"}},function(e,t,r){e.exports={loadingIndicator:"loading_indicator_loadingIndicator__194fV",spin:"loading_indicator_spin__3JO80",stretch:"loading_indicator_stretch__3_aFs"}},function(e,t,r){e.exports={stepperGroup:"customize_step_stepperGroup__FBtV1",buttonContainer:"customize_step_buttonContainer__1dnqB"}},function(e,t,r){e.exports={headerContainer:"skeleton_headerContainer__3d0eO",contentContainer:"skeleton_contentContainer__qh2CR"}},,,,,,function(e,t,r){e.exports={container:"container_container__1n2pY"}},function(e,t,r){e.exports={authPage:"auth_authPage__2ryI7",authButton:"auth_authButton__2tB4v",authButtonLabel:"auth_authButtonLabel__lAXiJ",authButtonIcon:"auth_authButtonIcon__GHzPS"}},function(e,t,r){e.exports=r.p+"static/media/cappuccino.ee625984.jpg"},function(e,t,r){e.exports={row:"row_row__lPS53"}},function(e,t,r){e.exports={buttonSelect:"button_select_buttonSelect__2f0be"}},,function(e,t,r){e.exports=r(66)},,,,,,,,,,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n,a=r(7),i=r(0),o=r.n(i),u=r(21),c=function(e){return"/new-order"+(null!=e?"/"+e:"")},s=function(){return"/login"},l=function(){return"/orders"},d=function(){return"/home"},f=r(2),p=r(3),m=r(13),h=r(10),O=r(12),E=r(33),v=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,null,[{key:"checkExists",value:function(e){if(null==e)throw new Error("expected value");return e}}]),e}(),b=function(e){function t(e){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,"unreachable case: "+e))}return Object(O.a)(t,e),t}(Object(E.a)(Error)),y=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,null,[{key:"requiredEnum",value:function(t,r){return v.checkExists(e.optionalEnum(t,r))}},{key:"optionalEnum",value:function(e,t){return null!=t?e(t):void 0}},{key:"requiredObject",value:function(t,r){return v.checkExists(e.optionalObject(t,r))}},{key:"optionalObject",value:function(e,t){return null!=t?e(t):void 0}},{key:"repeatedEnum",value:function(e,t){return t.map((function(t){return e(t)}))}},{key:"repeatedObject",value:function(e,t){return t.map((function(t){return e(t)}))}}]),e}(),A=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,null,[{key:"requiredString",value:function(t,r){return v.checkExists(e.optionalString(t,r))}},{key:"optionalString",value:function(e,t){return e[t]}},{key:"requiredBoolean",value:function(t,r){return v.checkExists(e.optionalBoolean(t,r))}},{key:"optionalBoolean",value:function(e,t){return e[t]}},{key:"requiredNumber",value:function(t,r){return v.checkExists(e.optionalNumber(t,r))}},{key:"optionalNumber",value:function(e,t){return e[t]}},{key:"requiredEnum",value:function(t,r,n){return v.checkExists(e.optionalEnum(t,r,n))}},{key:"optionalEnum",value:function(e,t,r){var n=t[r];return null!=n?e(n):void 0}},{key:"requiredObject",value:function(t,r,n){return v.checkExists(e.optionalObject(t,r,n))}},{key:"optionalObject",value:function(e,t,r){var n=t[r];return null!=n?e(n):void 0}},{key:"repeatedEnum",value:function(e,t,r){var n=t[r];return null!=n?n.map(e):[]}},{key:"repeatedObject",value:function(e,t,r){var n=t[r];return null!=n?n.map(e):[]}}]),e}();!function(e){e[e.ADMIN=0]="ADMIN",e[e.CAFE_STAFF=1]="CAFE_STAFF"}(n||(n={}));var S,w=function(e){switch(e){case"ADMIN":return n.ADMIN;case"CAFE_STAFF":return n.CAFE_STAFF;default:throw new Error("Unknown value: "+e)}},C=function(e){switch(e){case n.ADMIN:return"ADMIN";case n.CAFE_STAFF:return"CAFE_STAFF";default:throw new b(e)}},j=function(){function e(t){var r=t.avatarUrl,n=t.id,a=t.name,i=t.roles;Object(f.a)(this,e),this.avatarUrl=void 0,this.id=void 0,this.name=void 0,this.roles=void 0,this.avatarUrl=r,this.id=n,this.name=a,this.roles=i}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({avatarUrl:A.optionalString(t,"avatarUrl"),id:A.requiredString(t,"id"),name:A.optionalString(t,"name"),roles:A.repeatedEnum(w,t,"roles")})}},{key:"serialize",value:function(e){return{avatarUrl:e.avatarUrl,id:e.id,name:e.name,roles:y.repeatedEnum(C,e.roles)}}}]),e}(),g=function(){function e(t){var r=t.user;Object(f.a)(this,e),this.user=void 0,this.user=r}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({user:A.requiredObject(j.deserialize,t,"user")})}},{key:"serialize",value:function(e){return{user:y.requiredObject(j.serialize,e.user)}}}]),e}();function _(e){var t=e.user;return{withAnonOnly:function(e){var t=e.user;return function(e){return a.a((function(){return null==t?o.a.createElement(e,null):o.a.createElement(u.a,{to:k(t)})}))}}({user:t}),withAuthRequired:function(e){var t=e.user;return function(e,r){return a.a((function(){return null==t?o.a.createElement(u.a,{to:k(t)}):null==r||t.roles.includes(r)?o.a.createElement(e,null):o.a.createElement("div",null,"You don't have permission to view this page")}))}}({user:t})}}function k(e){return e?e.roles.includes(n.CAFE_STAFF)?l():d():s()}!function(e){e[e.FAKE=0]="FAKE",e[e.REAL=1]="REAL"}(S||(S={}));var T=function(e){switch(e){case"FAKE":return S.FAKE;case"REAL":return S.REAL;default:throw new Error("Unknown value: "+e)}},L=function(e){switch(e){case S.FAKE:return"FAKE";case S.REAL:return"REAL";default:throw new b(e)}},x=function(){function e(t){var r=t.mode,n=t.user;Object(f.a)(this,e),this.mode=void 0,this.user=void 0,this.mode=r,this.user=n}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({mode:A.requiredEnum(T,t,"mode"),user:A.optionalObject(j.deserialize,t,"user")})}},{key:"serialize",value:function(e){return{mode:y.requiredEnum(L,e.mode),user:y.optionalObject(j.serialize,e.user)}}}]),e}(),N=r(29),D=r(26),z=r.n(D),I=i.memo((function(e){var t=e.userInfo;return i.createElement("header",{className:z.a.header},i.createElement("div",{className:z.a.holder}),i.createElement(N.a,{to:d(),className:z.a.appLogo},"D\xe9j\xe0 Brew"),i.createElement("div",{className:z.a.holder},t&&i.createElement("div",{className:z.a.profile},t.avatarUrl&&i.createElement("img",{className:z.a.avatarImg,src:t.avatarUrl,alt:"User profile"}))))}));var P=r(14),R=r(9),M=r(17),U=r.n(M),H=r(18),F=r.n(H),G={left:F.a.left,right:F.a.right},q=o.a.memo((function(e){var t,r=e.children,n=e.type,a=e.title,i=e.kind,u=e.onClick,c=e.disabled,s=e.Icon,l=e.iconPosition,d=void 0===l?"left":l,f=e.className,p=e.stretch,m=void 0===p||p;return o.a.createElement("button",{className:U()(F.a.button,f,(t={},Object(R.a)(t,F.a.primary,"primary"===i),Object(R.a)(t,F.a.secondary,"secondary"===i),Object(R.a)(t,F.a.link,"link"===i),Object(R.a)(t,F.a.chromeless,"chromeless"===i),Object(R.a)(t,F.a.stretch,m),t)),type:n,title:a||(null===r||void 0===r?void 0:r.toString()),onClick:u,disabled:c},s&&o.a.createElement("div",{className:U()(F.a.iconContainer,G[d])},o.a.createElement(s,{size:"medium"})),o.a.createElement("div",{className:F.a.buttonLabel},r))})),B=function(e){return o.a.createElement(q,Object.assign({kind:"primary"},e))},Y=function(e){return o.a.createElement(q,Object.assign({kind:"secondary"},e))},K=r(48),V=r.n(K),W=o.a.memo((function(e){var t=e.children;return o.a.createElement("div",{className:V.a.container},t)})),X=function(e){return function(){return o.a.createElement(W,null,o.a.createElement(e,null))}};function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Q=o.a.createElement("title",null,"check1"),$=o.a.createElement("path",{d:"M26.109 8.844c0 0.391-0.156 0.781-0.438 1.062l-13.438 13.438c-0.281 0.281-0.672 0.438-1.062 0.438s-0.781-0.156-1.062-0.438l-7.781-7.781c-0.281-0.281-0.438-0.672-0.438-1.062s0.156-0.781 0.438-1.062l2.125-2.125c0.281-0.281 0.672-0.438 1.062-0.438s0.781 0.156 1.062 0.438l4.594 4.609 10.25-10.266c0.281-0.281 0.672-0.438 1.062-0.438s0.781 0.156 1.062 0.438l2.125 2.125c0.281 0.281 0.438 0.672 0.438 1.062z"}),ee=function(e){var t=e.svgRef,r=e.title,n=Z(e,["svgRef","title"]);return o.a.createElement("svg",J({width:28,height:28,viewBox:"0 0 28 28",fill:"currentColor",ref:t},n),void 0===r?Q:r?o.a.createElement("title",null,r):null,$)},te=o.a.forwardRef((function(e,t){return o.a.createElement(ee,J({svgRef:t},e))}));r.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ae=o.a.createElement("title",null,"chevron-left"),ie=o.a.createElement("path",{d:"M18.297 4.703l-8.297 8.297 8.297 8.297c0.391 0.391 0.391 1.016 0 1.406l-2.594 2.594c-0.391 0.391-1.016 0.391-1.406 0l-11.594-11.594c-0.391-0.391-0.391-1.016 0-1.406l11.594-11.594c0.391-0.391 1.016-0.391 1.406 0l2.594 2.594c0.391 0.391 0.391 1.016 0 1.406z"}),oe=function(e){var t=e.svgRef,r=e.title,n=ne(e,["svgRef","title"]);return o.a.createElement("svg",re({width:21,height:28,viewBox:"0 0 21 28",fill:"currentColor",ref:t},n),void 0===r?ae:r?o.a.createElement("title",null,r):null,ie)},ue=o.a.forwardRef((function(e,t){return o.a.createElement(oe,re({svgRef:t},e))}));r.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var le=o.a.createElement("path",{d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",fill:"#4285f4"}),de=o.a.createElement("path",{d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",fill:"#34a853"}),fe=o.a.createElement("path",{d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",fill:"#fbbc04"}),pe=o.a.createElement("path",{d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",fill:"#ea4335"}),me=function(e){var t=e.svgRef,r=e.title,n=se(e,["svgRef","title"]);return o.a.createElement("svg",ce({viewBox:"0 0 533.5 544.3",ref:t},n),r?o.a.createElement("title",null,r):null,le,de,fe,pe)},he=o.a.forwardRef((function(e,t){return o.a.createElement(me,ce({svgRef:t},e))}));r.p;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ve=o.a.createElement("title",null,"chevron-left"),be=o.a.createElement("g",{id:"icomoon-ignore"}),ye=o.a.createElement("path",{d:"M75.056 437.12c-48.432-48.368-75.056-112.624-75.056-181.12 0-141.12 114.816-256 256-256l32 32-32 32c-105.872 0-192 86.128-192 192 0 51.376 20 99.632 56.32 135.872l-39.312 5.12-5.952 40.128zM256 512l-32-31.872 32-32.128c105.872 0 192-86.128 192-192 0-51.248-20-99.504-56.368-135.808l39.376-5.184 5.872-40.064c48.432 48.368 75.12 112.688 75.12 181.056 0 141.12-114.88 256-256 256v0z"}),Ae=function(e){var t=e.svgRef,r=e.title,n=Ee(e,["svgRef","title"]);return o.a.createElement("svg",Oe({width:512,height:512,viewBox:"0 0 512 512",fill:"currentColor",ref:t},n),void 0===r?ve:r?o.a.createElement("title",null,r):null,be,ye)},Se=o.a.forwardRef((function(e,t){return o.a.createElement(Ae,Oe({svgRef:t},e))})),we=(r.p,r(32)),Ce=r.n(we),je={small:Ce.a.small,medium:Ce.a.medium,large:Ce.a.large};function ge(e){return function(t){return o.a.createElement("span",{style:{color:t.color},className:U()(Ce.a.icon,je[t.size])},o.a.createElement(e,null))}}var _e=ge(te),ke=ge(he),Te=(ge(ue),ge(Se)),Le=r(49),xe=r.n(Le),Ne=o.a.memo((function(){var e=o.a.useCallback((function(){return window.location.href="/login/google"}),[]);return o.a.createElement(W,null,o.a.createElement("div",{className:xe.a.authPage},o.a.createElement("p",null,"Welcome to Deja-Brew!"),o.a.createElement("p",null,"So that we know that you are, please sign in with your Canva Google account"),o.a.createElement(Y,{onClick:e,title:"Sign in with Google",Icon:ke},"Sign in with Google")))}));function De(e){return new Promise((function(t){return setTimeout(t,e)}))}var ze,Ie=r(39),Pe=r.n(Ie),Re=o.a.memo((function(e){var t=e.children;return o.a.createElement("div",{className:U()(Pe.a.divider,t&&Pe.a.withText)},t)})),Me=r(19),Ue=r(20);!function(e){e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.LARGE=2]="LARGE"}(ze||(ze={}));var He,Fe=function(e){switch(e){case"SMALL":return ze.SMALL;case"MEDIUM":return ze.MEDIUM;case"LARGE":return ze.LARGE;default:throw new Error("Unknown value: "+e)}},Ge=function(e){switch(e){case ze.SMALL:return"SMALL";case ze.MEDIUM:return"MEDIUM";case ze.LARGE:return"LARGE";default:throw new b(e)}},qe=function(){return[ze.SMALL,ze.MEDIUM,ze.LARGE]};!function(e){e[e.LATTE=0]="LATTE",e[e.CAPPUCCINO=1]="CAPPUCCINO",e[e.FLAT_WHITE=2]="FLAT_WHITE",e[e.LONG_BLACK=3]="LONG_BLACK",e[e.MOCHA=4]="MOCHA",e[e.HOT_CHOC=5]="HOT_CHOC",e[e.MATCHA=6]="MATCHA",e[e.ESPRESSO=7]="ESPRESSO"}(He||(He={}));var Be,Ye=function(e){switch(e){case"LATTE":return He.LATTE;case"CAPPUCCINO":return He.CAPPUCCINO;case"FLAT_WHITE":return He.FLAT_WHITE;case"LONG_BLACK":return He.LONG_BLACK;case"MOCHA":return He.MOCHA;case"HOT_CHOC":return He.HOT_CHOC;case"MATCHA":return He.MATCHA;case"ESPRESSO":return He.ESPRESSO;default:throw new Error("Unknown value: "+e)}},Ke=function(e){switch(e){case He.LATTE:return"LATTE";case He.CAPPUCCINO:return"CAPPUCCINO";case He.FLAT_WHITE:return"FLAT_WHITE";case He.LONG_BLACK:return"LONG_BLACK";case He.MOCHA:return"MOCHA";case He.HOT_CHOC:return"HOT_CHOC";case He.MATCHA:return"MATCHA";case He.ESPRESSO:return"ESPRESSO";default:throw new b(e)}},Ve=function(){return[He.LATTE,He.CAPPUCCINO,He.FLAT_WHITE,He.LONG_BLACK,He.MOCHA,He.HOT_CHOC,He.MATCHA,He.ESPRESSO]};!function(e){e[e.REGULAR=0]="REGULAR",e[e.SKIM=1]="SKIM",e[e.SOY=2]="SOY",e[e.ALMOND=3]="ALMOND",e[e.OAT=4]="OAT"}(Be||(Be={}));var We,Xe=function(e){switch(e){case"REGULAR":return Be.REGULAR;case"SKIM":return Be.SKIM;case"SOY":return Be.SOY;case"ALMOND":return Be.ALMOND;case"OAT":return Be.OAT;default:throw new Error("Unknown value: "+e)}},Je=function(e){switch(e){case Be.REGULAR:return"REGULAR";case Be.SKIM:return"SKIM";case Be.SOY:return"SOY";case Be.ALMOND:return"ALMOND";case Be.OAT:return"OAT";default:throw new b(e)}},Ze=function(){return[Be.REGULAR,Be.SKIM,Be.SOY,Be.ALMOND,Be.OAT]};!function(e){e[e.DECAF=0]="DECAF",e[e.EXTRA_SHOT=1]="EXTRA_SHOT",e[e.HONEY=2]="HONEY",e[e.ICED=3]="ICED",e[e.SUGAR=4]="SUGAR"}(We||(We={}));var Qe,$e=function(e){switch(e){case"DECAF":return We.DECAF;case"EXTRA_SHOT":return We.EXTRA_SHOT;case"HONEY":return We.HONEY;case"ICED":return We.ICED;case"SUGAR":return We.SUGAR;default:throw new Error("Unknown value: "+e)}},et=function(e){switch(e){case We.DECAF:return"DECAF";case We.EXTRA_SHOT:return"EXTRA_SHOT";case We.HONEY:return"HONEY";case We.ICED:return"ICED";case We.SUGAR:return"SUGAR";default:throw new b(e)}};!function(e){e[e.PENDING=0]="PENDING",e[e.ACCEPTED=1]="ACCEPTED",e[e.READY=2]="READY",e[e.CANCELLED=3]="CANCELLED"}(Qe||(Qe={}));var tt=function(e){switch(e){case"PENDING":return Qe.PENDING;case"ACCEPTED":return Qe.ACCEPTED;case"READY":return Qe.READY;case"CANCELLED":return Qe.CANCELLED;default:throw new Error("Unknown value: "+e)}},rt=function(e){switch(e){case Qe.PENDING:return"PENDING";case Qe.ACCEPTED:return"ACCEPTED";case Qe.READY:return"READY";case Qe.CANCELLED:return"CANCELLED";default:throw new b(e)}},nt=function(){function e(t){var r=t.avatarUrl,n=t.id,a=t.name;Object(f.a)(this,e),this.avatarUrl=void 0,this.id=void 0,this.name=void 0,this.avatarUrl=r,this.id=n,this.name=a}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({avatarUrl:A.optionalString(t,"avatarUrl"),id:A.requiredString(t,"id"),name:A.optionalString(t,"name")})}},{key:"serialize",value:function(e){return{avatarUrl:e.avatarUrl,id:e.id,name:e.name}}}]),e}(),at=function(){function e(t){var r=t.coffeeType,n=t.createdAt,a=t.cupSize,i=t.extras,o=t.id,u=t.milkType,c=t.status,s=t.user;Object(f.a)(this,e),this.coffeeType=void 0,this.createdAt=void 0,this.cupSize=void 0,this.extras=void 0,this.id=void 0,this.milkType=void 0,this.status=void 0,this.user=void 0,this.coffeeType=r,this.createdAt=n,this.cupSize=a,this.extras=i,this.id=o,this.milkType=u,this.status=c,this.user=s}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({coffeeType:A.requiredEnum(Ye,t,"coffeeType"),createdAt:A.requiredNumber(t,"createdAt"),cupSize:A.requiredEnum(Fe,t,"cupSize"),extras:A.repeatedEnum($e,t,"extras"),id:A.requiredString(t,"id"),milkType:A.requiredEnum(Xe,t,"milkType"),status:A.requiredEnum(tt,t,"status"),user:A.requiredObject(nt.deserialize,t,"user")})}},{key:"serialize",value:function(e){return{coffeeType:y.requiredEnum(Ke,e.coffeeType),createdAt:e.createdAt,cupSize:y.requiredEnum(Ge,e.cupSize),extras:y.repeatedEnum(et,e.extras),id:e.id,milkType:y.requiredEnum(Je,e.milkType),status:y.requiredEnum(rt,e.status),user:y.requiredObject(nt.serialize,e.user)}}}]),e}(),it=function(){function e(t){var r=t.createdAfter,n=t.createdBy,a=t.limit,i=t.statuses;Object(f.a)(this,e),this.createdAfter=void 0,this.createdBy=void 0,this.limit=void 0,this.statuses=void 0,this.createdAfter=r,this.createdBy=n,this.limit=a,this.statuses=i}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({createdAfter:A.optionalNumber(t,"createdAfter"),createdBy:A.optionalString(t,"createdBy"),limit:A.optionalNumber(t,"limit"),statuses:A.repeatedEnum(tt,t,"statuses")})}},{key:"serialize",value:function(e){return{createdAfter:e.createdAfter,createdBy:e.createdBy,limit:e.limit,statuses:y.repeatedEnum(rt,e.statuses)}}}]),e}(),ot=function(){function e(t){var r=t.continuation,n=t.orders;Object(f.a)(this,e),this.continuation=void 0,this.orders=void 0,this.continuation=r,this.orders=n}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({continuation:A.optionalString(t,"continuation"),orders:A.repeatedObject(at.deserialize,t,"orders")})}},{key:"serialize",value:function(e){return{continuation:e.continuation,orders:y.repeatedObject(at.serialize,e.orders)}}}]),e}(),ut=function(){function e(t){var r=t.coffeeType,n=t.cupSize,a=t.extras,i=t.milkType;Object(f.a)(this,e),this.coffeeType=void 0,this.cupSize=void 0,this.extras=void 0,this.milkType=void 0,this.coffeeType=r,this.cupSize=n,this.extras=a,this.milkType=i}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({coffeeType:A.requiredEnum(Ye,t,"coffeeType"),cupSize:A.requiredEnum(Fe,t,"cupSize"),extras:A.repeatedEnum($e,t,"extras"),milkType:A.requiredEnum(Xe,t,"milkType")})}},{key:"serialize",value:function(e){return{coffeeType:y.requiredEnum(Ke,e.coffeeType),cupSize:y.requiredEnum(Ge,e.cupSize),extras:y.repeatedEnum(et,e.extras),milkType:y.requiredEnum(Je,e.milkType)}}}]),e}(),ct=function(){function e(t){var r=t.order;Object(f.a)(this,e),this.order=void 0,this.order=r}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({order:A.requiredObject(at.deserialize,t,"order")})}},{key:"serialize",value:function(e){return{order:y.requiredObject(at.serialize,e.order)}}}]),e}(),st=function(){function e(t){var r=t.orderId,n=t.status;Object(f.a)(this,e),this.orderId=void 0,this.status=void 0,this.orderId=r,this.status=n}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({orderId:A.requiredString(t,"orderId"),status:A.requiredEnum(tt,t,"status")})}},{key:"serialize",value:function(e){return{orderId:e.orderId,status:y.requiredEnum(rt,e.status)}}}]),e}(),lt=function(){function e(t){var r=t.order;Object(f.a)(this,e),this.order=void 0,this.order=r}return Object(p.a)(e,null,[{key:"deserialize",value:function(t){return new e({order:A.requiredObject(at.deserialize,t,"order")})}},{key:"serialize",value:function(e){return{order:y.requiredObject(at.serialize,e.order)}}}]),e}();function dt(e){switch(e){case Be.REGULAR:return"Regular";case Be.SKIM:return"Skim";case Be.SOY:return"Soy";case Be.ALMOND:return"Almond";case Be.OAT:return"Oat";default:throw new b(e)}}function ft(e){switch(e){case He.LATTE:return"Latte";case He.CAPPUCCINO:return"Cappuccino";case He.FLAT_WHITE:return"Flat White";case He.LONG_BLACK:return"Long Black";case He.MOCHA:return"Mocha";case He.HOT_CHOC:return"Hot Choc";case He.MATCHA:return"Matcha";case He.ESPRESSO:return"Espresso";default:throw new b(e)}}function pt(e){switch(e){case We.DECAF:return"Decaf";case We.EXTRA_SHOT:return"Extra Shot";case We.HONEY:return"Honey";case We.ICED:return"Iced";case We.SUGAR:return"Sugar";default:throw new b(e)}}function mt(e){switch(e){case ze.SMALL:return"Small";case ze.MEDIUM:return"Medium";case ze.LARGE:return"Large";default:throw new b(e)}}function ht(e){var t=e.milkType,r=e.coffeeType,n=e.cupSize,a=e.extras,i=t===Be.REGULAR?"":dt(t),o=a.includes(We.DECAF)?pt(We.DECAF):"",u=a.includes(We.ICED)?pt(We.ICED):"";return Et([mt(n),o,u,i,ft(r)].join(" "))}function Ot(e){var t=e.filter((function(e){return![We.DECAF,We.ICED].includes(e)}));if(t.length){var r=new Map;return t.forEach((function(e){var t=r.get(e)||0;r.set(e,t+1)})),Array.from(r).map((function(e){var t=Object(Ue.a)(e,2),r=t[0],n=t[1];return"".concat(n,"x ").concat(Et(pt(r)))})).join(", ")}}function Et(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}var vt,bt,yt,At,St,wt,Ct,jt,gt,_t=function(e){var t=e.status;switch(t){case Qe.PENDING:return i.createElement(i.Fragment,null,i.createElement(kt,{color:"orange"})," \xa0Pending");case Qe.ACCEPTED:return i.createElement(i.Fragment,null,i.createElement(kt,{color:"#66C136"})," \xa0Accepted");case Qe.READY:return i.createElement(i.Fragment,null,i.createElement(Tt,{color:"#66C136"})," \xa0Ready");case Qe.CANCELLED:return i.createElement(i.Fragment,null,i.createElement(Lt,{color:"red"})," \xa0Cancelled");default:throw new b(t)}},kt=function(e){var t=e.color;return i.createElement("span",{style:{color:t}},"\u25c9")},Tt=function(e){var t=e.color;return i.createElement("span",{style:{color:t}},"\u2713")},Lt=function(e){var t=e.color;return i.createElement("span",{style:{color:t}},"\u2716")},xt=r(50),Nt=r.n(xt),Dt=r(25),zt=r.n(Dt),It=function(e){var t=e.order,r=Ot(t.extras);return o.a.createElement("div",{className:zt.a.orderTile},o.a.createElement("div",{className:zt.a.imageContainer},o.a.createElement("img",{className:zt.a.image,src:Nt.a,alt:""})),o.a.createElement("div",{className:zt.a.infoContainer},o.a.createElement("div",{className:zt.a.coffeeType},ht(t)),r&&o.a.createElement("div",{className:zt.a.extrasLabel},r),null!=t.status&&o.a.createElement("div",{className:zt.a.status},o.a.createElement(_t,{status:t.status}))))},Pt=r(51),Rt=r.n(Pt),Mt=o.a.memo((function(e){var t=e.children;return o.a.createElement("div",{className:Rt.a.row},t)})),Ut=r(34),Ht=r.n(Ut),Ft=o.a.memo((function(e){var t=e.children;return o.a.createElement("h3",{className:Ht.a.titleMedium},t)})),Gt=o.a.memo((function(e){var t=e.children;return o.a.createElement("h4",{className:Ht.a.titleSmall},t)})),qt=o.a.memo((function(e){var t=e.children;return o.a.createElement("p",{className:Ht.a.paragraph},t)})),Bt=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onWillUnmount()}},{key:"render",value:function(){var e=this.props,t=e.activeOrders,r=e.previousOrder,n=e.onNewOrderClick,a=e.onOrderAgainClick;return o.a.createElement("div",null,t&&t.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Your Orders")),t.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.id},o.a.createElement(Mt,null,o.a.createElement(It,{order:e})))}))),r&&!t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Your last order")),o.a.createElement(Mt,null,o.a.createElement(It,{order:r})),o.a.createElement(Mt,null,o.a.createElement(B,{onClick:a},"Order again")),o.a.createElement(Mt,null,o.a.createElement(Re,null,"OR"))),o.a.createElement(Mt,null,o.a.createElement(Y,{onClick:n},"New Order")))}}]),t}(o.a.Component),Yt=r(4),Kt=r.n(Yt),Vt=r(6),Wt=r(11),Xt=r(5),Jt=(r(36),r(1)),Zt=(vt=Jt.A.ref,bt=Jt.A.ref,yt=Jt.A.ref,At=function e(){Object(f.a)(this,e),Object(Wt.a)(this,"previousOrder",St,this),Object(Wt.a)(this,"activeOrders",wt,this),Object(Wt.a)(this,"isLoading",Ct,this),this.refreshTimer=void 0},St=Object(Xt.a)(At.prototype,"previousOrder",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Object(Xt.a)(At.prototype,"activeOrders",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Object(Xt.a)(At.prototype,"isLoading",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),At),Qt=(jt=Jt.j,gt=function(){function e(t){Object(f.a)(this,e),this.orderService=t}return Object(p.a)(e,[{key:"fetchPreviousOrder",value:function(){return this.orderService.getOrders(new it({createdBy:"me",statuses:[Qe.READY],limit:1}))}},{key:"fetchActiveOrders",value:function(){return this.orderService.getOrders(new it({createdBy:"me",statuses:[Qe.READY,Qe.PENDING,Qe.ACCEPTED],createdAfter:Math.round(Date.now()/1e3-1800)}))}},{key:"loadOrderDetails",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r,n,a,i;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,Promise.all([this.fetchPreviousOrder(),this.fetchActiveOrders()]);case 3:r=e.sent,n=Object(Ue.a)(r,2),a=n[0],i=n[1],Jt.D((function(){t.isLoading=!1,t.previousOrder=a.orders[0],t.activeOrders=i.orders}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startRefreshTimer",value:function(e){var t=this;e.refreshTimer=window.setInterval((function(){t.loadOrderDetails(e)}),5e3)}},{key:"stopRefreshTimer",value:function(e){window.clearInterval(e.refreshTimer)}}]),e}(),Object(Xt.a)(gt.prototype,"loadOrderDetails",[jt],Object.getOwnPropertyDescriptor(gt.prototype,"loadOrderDetails"),gt.prototype),gt);var $t=r(52),er=r.n($t),tr=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onOptionClick=function(e){r.props.onSelect(e)},r}return Object(O.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.options,n=t.selectedOptions;return o.a.createElement("div",{className:er.a.buttonSelect},r.map((function(t){return o.a.createElement(rr,{key:JSON.stringify(t.value),value:t.value,onClick:e.onOptionClick,selected:n&&n.includes(t.value),label:t.label})})))}}]),t}(o.a.Component),rr=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onClick=function(){r.props.onClick(r.props.value)},r}return Object(O.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selected,r=e.label;return o.a.createElement(Y,{Icon:t?_e:void 0,iconPosition:"right",onClick:this.onClick},r)}}]),t}(o.a.Component),nr=r(28),ar=r.n(nr),ir=o.a.memo((function(e){var t=e.onChange,r=e.value,n=e.minValue,a=e.maxValue;return o.a.createElement("div",{className:ar.a.stepper},o.a.createElement(Y,{onClick:function(){return t(function(e,t){return null!=t?Math.max(t,e):e}(r-1,n))},className:ar.a.button},"-"),o.a.createElement("div",{className:ar.a.stepperValue},o.a.createElement("div",{className:ar.a.stepperValueInner},r)),o.a.createElement(Y,{onClick:function(){return t(function(e,t){return null!=t?Math.min(t,e):e}(r+1,a))},className:ar.a.button},"+"))})),or=r(40),ur=r.n(or),cr=o.a.memo((function(e){var t=e.stretch,r=void 0!==t&&t,n=e.size,a=void 0===n?"large":n;return o.a.createElement("div",{className:U()(ur.a.loadingIndicator,Object(R.a)({},ur.a.stretch,r))},o.a.createElement(Te,{size:a}))})),sr=r(41),lr=r.n(sr),dr=o.a.memo((function(e){var t=e.ExtraShotStepper,r=e.SugarStepper,n=e.MilkSelect,a=e.ExtrasSelect,i=e.onSubmitClick,u=e.canSubmitOrder,c=e.isSubmitting,s=e.orderInfo;return o.a.createElement("div",null,o.a.createElement(Mt,null,o.a.createElement(Gt,null,"Milk?")),o.a.createElement(Mt,null,o.a.createElement(n,null)),o.a.createElement(Mt,null,o.a.createElement(Gt,null,"Extras?")),o.a.createElement(Mt,null,o.a.createElement(a,null)),o.a.createElement(Mt,null,o.a.createElement("div",{className:lr.a.stepperGroup},o.a.createElement("div",null,o.a.createElement(Mt,null,o.a.createElement(Gt,null,"Sugar")),o.a.createElement(Mt,null,o.a.createElement(r,null))),o.a.createElement("div",null,o.a.createElement(Mt,null,o.a.createElement(Gt,null,"Extra Shots")),o.a.createElement(Mt,null,o.a.createElement(t,null))))),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Your Order")),o.a.createElement(Mt,null,o.a.createElement(It,{order:s}))),o.a.createElement("div",{className:lr.a.buttonContainer},o.a.createElement(B,{onClick:i,disabled:!u},c?o.a.createElement(cr,{size:"small"}):"Submit Order")))}));var fr,pr,mr,hr,Or,Er,vr,br,yr,Ar,Sr,wr,Cr,jr,gr,_r,kr,Tr,Lr,xr,Nr,Dr,zr,Ir,Pr,Rr,Mr=r(24),Ur=r(53);!function(e){e[e.WELCOME=0]="WELCOME",e[e.SELECT_TYPE=1]="SELECT_TYPE",e[e.SELECT_SIZE=2]="SELECT_SIZE",e[e.CUSTOMIZE=3]="CUSTOMIZE"}(Rr||(Rr={}));var Hr=(fr=Jt.A.ref,pr=Jt.A.ref,mr=Jt.A.ref,hr=Jt.A.ref,Or=Jt.A.ref,Er=Jt.A.ref,vr=Jt.A.ref,br=function e(){Object(f.a)(this,e),Object(Wt.a)(this,"coffeeType",yr,this),Object(Wt.a)(this,"extraShots",Ar,this),Object(Wt.a)(this,"sugar",Sr,this),Object(Wt.a)(this,"milkType",wr,this),Object(Wt.a)(this,"extras",Cr,this),Object(Wt.a)(this,"cupSize",jr,this),Object(Wt.a)(this,"createOrderReq",gr,this)},yr=Object(Xt.a)(br.prototype,"coffeeType",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=Object(Xt.a)(br.prototype,"extraShots",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sr=Object(Xt.a)(br.prototype,"sugar",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wr=Object(Xt.a)(br.prototype,"milkType",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Be.REGULAR}}),Cr=Object(Xt.a)(br.prototype,"extras",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jr=Object(Xt.a)(br.prototype,"cupSize",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=Object(Xt.a)(br.prototype,"createOrderReq",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br),Fr=(_r=Jt.j,kr=Jt.j,Tr=Jt.j,Lr=Jt.j,xr=Jt.j,Nr=Jt.j,Dr=Jt.j,zr=Jt.j,Ir=Jt.j,Pr=function(){function e(t,r,n){Object(f.a)(this,e),this.orderService=t,this.history=r,this.refreshOrders=n}return Object(p.a)(e,[{key:"resetOrder",value:function(e){e.coffeeType=void 0,e.extraShots=0,e.sugar=0,e.milkType=Be.REGULAR,e.extras=[],e.cupSize=void 0}},{key:"onCoffeeTypeOptionSelected",value:function(e,t){e.coffeeType=t}},{key:"onSizeOptionSelected",value:function(e,t){e.cupSize=t}},{key:"onSugarValueChange",value:function(e,t){e.sugar=t}},{key:"onExtraShotValueChange",value:function(e,t){e.extraShots=t}},{key:"onMilkOptionSelected",value:function(e,t){e.milkType=t}},{key:"onExtraOptionSelected",value:function(e,t){e.extras.includes(t)?e.extras=e.extras.filter((function(e){return e!==t})):e.extras=[].concat(Object(Mr.a)(e.extras),[t])}},{key:"canSubmitOrder",value:function(e){return null!=e.cupSize&&null!=e.coffeeType&&!this.isSubmitting(e)}},{key:"maybeGetOrderInfo",value:function(e){if(null!=e.cupSize&&null!=e.coffeeType)return{cupSize:e.cupSize,extras:this.getOrderExtras(e),coffeeType:e.coffeeType,milkType:e.milkType}}},{key:"submitOrder",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.createOrderReq=Object(Ur.a)(this.orderService.createOrder(new ut({cupSize:v.checkExists(t.cupSize),extras:this.getOrderExtras(t),coffeeType:v.checkExists(t.coffeeType),milkType:t.milkType}))),e.next=3,t.createOrderReq;case 3:return this.history.push(d()),e.next=6,this.refreshOrders();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSubmitting",value:function(e){var t;return"pending"===(null===(t=e.createOrderReq)||void 0===t?void 0:t.state)}},{key:"getErrorMessage",value:function(e){var t;return"rejected"===(null===(t=e.createOrderReq)||void 0===t?void 0:t.state)&&e.createOrderReq.value.toString()}},{key:"customizeOrder",value:function(e){this.history.push(c("customize"))}},{key:"getOrderExtras",value:function(e){return[].concat(Object(Mr.a)(e.extras),Object(Mr.a)(Array.from({length:e.extraShots},(function(){return We.EXTRA_SHOT}))),Object(Mr.a)(Array.from({length:e.sugar},(function(){return We.SUGAR}))))}}]),e}(),Object(Xt.a)(Pr.prototype,"resetOrder",[_r],Object.getOwnPropertyDescriptor(Pr.prototype,"resetOrder"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onCoffeeTypeOptionSelected",[kr],Object.getOwnPropertyDescriptor(Pr.prototype,"onCoffeeTypeOptionSelected"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onSizeOptionSelected",[Tr],Object.getOwnPropertyDescriptor(Pr.prototype,"onSizeOptionSelected"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onSugarValueChange",[Lr],Object.getOwnPropertyDescriptor(Pr.prototype,"onSugarValueChange"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onExtraShotValueChange",[xr],Object.getOwnPropertyDescriptor(Pr.prototype,"onExtraShotValueChange"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onMilkOptionSelected",[Nr],Object.getOwnPropertyDescriptor(Pr.prototype,"onMilkOptionSelected"),Pr.prototype),Object(Xt.a)(Pr.prototype,"onExtraOptionSelected",[Dr],Object.getOwnPropertyDescriptor(Pr.prototype,"onExtraOptionSelected"),Pr.prototype),Object(Xt.a)(Pr.prototype,"submitOrder",[zr],Object.getOwnPropertyDescriptor(Pr.prototype,"submitOrder"),Pr.prototype),Object(Xt.a)(Pr.prototype,"customizeOrder",[Ir],Object.getOwnPropertyDescriptor(Pr.prototype,"customizeOrder"),Pr.prototype),Pr),Gr=o.a.memo((function(e){var t=e.SizeSelect,r=e.onSubmitClick,n=e.onCustomizeClick,a=e.canSubmitOrder,i=e.isSubmitting,u=e.orderInfo;return o.a.createElement("div",null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Cup Size"),o.a.createElement(qt,null,"What size of coffee would you like?")),o.a.createElement(t,null),u&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Your Order")),o.a.createElement(Mt,null,o.a.createElement(It,{order:u}))),o.a.createElement(Mt,null,o.a.createElement(B,{disabled:!a,onClick:r},i?o.a.createElement(cr,{size:"small"}):"Done")),o.a.createElement(Mt,null,o.a.createElement(Y,{disabled:!a,onClick:n},"Customize \u2192")))}));var qr=o.a.memo((function(e){var t=e.CoffeeKindSelect;return o.a.createElement("div",null,o.a.createElement(Mt,null,o.a.createElement(Ft,null,"Coffee Type"),o.a.createElement(qt,null,"What would you like to drink today?")),o.a.createElement(t,null))}));function Br(e){var t,r=e.history,n=e.orderService,i=e.refreshOrders,s=new Hr,l=new Fr(n,r,i),d=function(e){var t=e.store,r=e.presenter,n=e.history,i=Ve().map((function(e){return{label:ft(e),value:e}})),u=function(e){r.onCoffeeTypeOptionSelected(t,e),n.push("/new-order/select-size")},c=a.a((function(){return o.a.createElement(tr,{options:i,onSelect:u})}));return function(){return o.a.createElement(qr,{CoffeeKindSelect:c})}}({store:s,presenter:l,history:r}),f=function(e){var t=e.store,r=e.presenter,n=function(){return r.submitOrder(t)},i=function(){return r.customizeOrder(t)},u=function(e){return r.onSizeOptionSelected(t,e)},c=qe().map((function(e){return{label:mt(e),value:e}})),s=a.a((function(){return o.a.createElement(tr,{options:c,onSelect:u,selectedOptions:null!=t.cupSize?[t.cupSize]:void 0})}));return a.a((function(){return o.a.createElement(Gr,{SizeSelect:s,onSubmitClick:n,onCustomizeClick:i,canSubmitOrder:r.canSubmitOrder(t),isSubmitting:r.isSubmitting(t),orderInfo:r.maybeGetOrderInfo(t)})}))}({store:s,presenter:l}),p=function(e){var t=e.store,r=e.presenter,n=function(e){return r.onSugarValueChange(t,e)},i=function(e){return r.onExtraShotValueChange(t,e)},u=function(e){return r.onMilkOptionSelected(t,e)},c=function(e){return r.onExtraOptionSelected(t,e)},s=function(){return r.submitOrder(t)},l=Ze().map((function(e){return{label:dt(e),value:e}})),d=[We.DECAF,We.HONEY].map((function(e){return{label:pt(e),value:e}})),f=a.a((function(){return o.a.createElement(ir,{onChange:n,value:t.sugar,minValue:0})})),p=a.a((function(){return o.a.createElement(ir,{onChange:i,value:t.extraShots,minValue:0})})),m=a.a((function(){return o.a.createElement(tr,{options:l,onSelect:u,selectedOptions:[t.milkType]})})),h=a.a((function(){return o.a.createElement(tr,{options:d,onSelect:c,selectedOptions:t.extras})}));return a.a((function(){return o.a.createElement(dr,{SugarStepper:f,ExtraShotStepper:p,MilkSelect:m,ExtrasSelect:h,onSubmitClick:s,canSubmitOrder:r.canSubmitOrder(t),isSubmitting:r.isSubmitting(t),orderInfo:r.maybeGetOrderInfo(t)})}))}({store:s,presenter:l}),m=en((function(){return null!=s.coffeeType}),"/new-order/"),h=m(f),O=m(p);return{OrderFormFlow:(t=function(){return l.resetOrder(s)},function(e){return o.a.memo((function(){return o.a.useEffect((function(){return t})),o.a.createElement(e,null)}))})(o.a.memo((function(){return o.a.createElement(u.d,null,o.a.createElement(u.b,{path:c("select-type"),component:d}),o.a.createElement(u.b,{path:c("select-size"),component:h}),o.a.createElement(u.b,{path:c("customize"),component:O}),o.a.createElement(u.a,{from:c(),to:c("select-type")}))})))}}var Yr,Kr,Vr,Wr,Xr,Jr,Zr,Qr,$r,en=function(e,t){return function(r){return o.a.memo((function(){return e()?o.a.createElement(r,null):o.a.createElement(u.a,{to:t})}))}},tn=(Yr=Jt.A.deep,Kr=Jt.A.ref,Vr=function e(){Object(f.a)(this,e),Object(Wt.a)(this,"cards",Wr,this),Object(Wt.a)(this,"isLoading",Xr,this),this.timerId=void 0},Wr=Object(Xt.a)(Vr.prototype,"cards",[Yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr=Object(Xt.a)(Vr.prototype,"isLoading",[Kr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vr),rn=[Qe.PENDING,Qe.ACCEPTED],nn=(Jr=Jt.j,Zr=Jt.j,Qr=Jt.j,$r=function(){function e(t){Object(f.a)(this,e),this.orderService=t}return Object(p.a)(e,[{key:"subscribeToUpdates",value:function(e){var t=this,r=window.setInterval((function(){return t.refreshOrders(e)}),1e3);return function(){return window.clearInterval(r)}}},{key:"refreshOrders",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,this.orderService.getOrders(new it({statuses:rn}));case 3:r=e.sent,Jt.D((function(){t.isLoading=!1,t.cards=r.orders.map((function(e){return{order:e,isLoading:!1}}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getActiveOrders",value:function(e){return e.cards?e.cards.filter((function(e){return rn.includes(e.order.status)})):[]}},{key:"handleOrderCardClick",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t,r){var n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isLoading=!0,e.next=3,this.orderService.updateOrder(new st({orderId:r.order.id,status:an(r.order.status)}));case 3:n=e.sent,Jt.D((function(){r.isLoading=!1,r.order=n.order}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"handleOrderCardLongPress",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t,r){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Object(Xt.a)($r.prototype,"refreshOrders",[Jr],Object.getOwnPropertyDescriptor($r.prototype,"refreshOrders"),$r.prototype),Object(Xt.a)($r.prototype,"handleOrderCardClick",[Zr],Object.getOwnPropertyDescriptor($r.prototype,"handleOrderCardClick"),$r.prototype),Object(Xt.a)($r.prototype,"handleOrderCardLongPress",[Qr],Object.getOwnPropertyDescriptor($r.prototype,"handleOrderCardLongPress"),$r.prototype),$r);function an(e){switch(e){case Qe.PENDING:return Qe.ACCEPTED;case Qe.ACCEPTED:case Qe.READY:return Qe.READY;case Qe.CANCELLED:return Qe.CANCELLED}}var on=r(68),un=r(16),cn=r.n(un),sn=i.memo((function(e){var t=e.OrdersGrid,r=e.onMount;return Object(i.useEffect)((function(){return r()})),i.createElement("div",{className:cn.a.ordersPage},i.createElement(t,null))})),ln=i.memo((function(e){var t=e.cards,r=e.onOrderCardClick,n=e.onOrderCardLongPress;return i.createElement("div",{className:cn.a.ordersGrid},t.map((function(e){return i.createElement(dn,{key:e.order.id,store:e,onClick:r,onLongPress:n})})))})),dn=a.a((function(e){var t=e.store,r=e.onClick,n=e.onLongPress,a=t.order,o=t.isLoading,u=function(e){return Ot(e.extras)}(a),c=i.useCallback((function(){return r(t)}),[r,t]),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=i.useState(!1),n=Object(Ue.a)(r,2),a=n[0],o=n[1];Object(i.useEffect)((function(){var r;return a?r=window.setTimeout(e,t):r&&window.clearTimeout(r),function(){window.clearTimeout(r)}}),[e,t,a]);var u=i.useCallback((function(){o(!0)}),[]),c=i.useCallback((function(e){o(!1),e.stopPropagation()}),[]);return{onTouchStart:u,onTouchEnd:c,onMouseDown:u,onMouseUp:c,onMouseLeave:c}}(i.useCallback((function(){return n(t)}),[n,t]),300);return i.createElement("button",Object.assign({className:U()(cn.a.orderCardButton,Object(R.a)({},cn.a.loading,o)),disabled:o},s,{onClick:c}),i.createElement("div",{className:cn.a.orderDetails},i.createElement("div",{className:cn.a.coffeeTypeLabel},function(e){return ht(Object(Me.a)({},e))}(a)),u&&i.createElement("div",{className:cn.a.extrasLabel},u),i.createElement("div",{className:cn.a.orderStatusLabel},o?i.createElement(cr,{size:"small"}):i.createElement(i.Fragment,null,i.createElement(_t,{status:a.status})," \xa0|\xa0 ",Object(on.a)(1e3*a.createdAt,new Date,{addSuffix:!0})))),i.createElement("div",{className:cn.a.userDetails},i.createElement("img",{className:cn.a.userAvatar,src:a.user.avatarUrl,alt:""}),i.createElement("div",{className:cn.a.userName},a.user.name)))}));var fn=r(31),pn=r.n(fn),mn=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(Object(E.a)(Error)),hn=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(mn),On=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(mn),En=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(mn),vn=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(mn),bn=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(mn),yn=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"get",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/_api"+t);case 2:return r=e.sent,e.abrupt("return",this.handleResponse(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t,r){var n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/_api"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});case 2:return n=e.sent,e.abrupt("return",this.handleResponse(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t,r){var n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/_api"+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});case 2:return n=e.sent,e.abrupt("return",this.handleResponse(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"handleResponse",value:function(e){if(400===e.status)throw new En;if(403===e.status)throw new On;if(404===e.status)throw new hn;if(500===e.status)throw new vn;if(503===e.status)throw new bn;if(e.status<200||e.status>=300)throw new mn;return e.json()}}]),e}(),An=function(e,t){return function(){return e+(t++).toString()}},Sn=An("OAAAAA",1);function wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new at(Object(Me.a)({id:Sn(),coffeeType:He.CAPPUCCINO,status:Qe.PENDING,cupSize:ze.SMALL,extras:[We.EXTRA_SHOT],milkType:Be.REGULAR,user:new nt({id:"UAAAAAAA",name:"Nick Whyte",avatarUrl:"https://i.pravatar.cc/96"}),createdAt:Date.now()/1e3},e))}var Cn=function(){function e(t){Object(f.a)(this,e),this.delay=t,this.orders=[wn(),wn(),wn(),wn()]}return Object(p.a)(e,[{key:"createOrder",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(this.delay);case 2:return r=wn(Object(Me.a)({status:Qe.PENDING},t)),this.orders.push(r),e.abrupt("return",new ct({order:r}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrders",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(this.delay);case 2:return e.abrupt("return",new ot({orders:this.orders}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrder",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r,n;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(this.delay);case 2:return r=this.orders.findIndex((function(e){return e.id===t.orderId})),n=new at(Object(Me.a)({},this.orders[r],{status:t.status})),this.orders.splice(r,1,n),e.abrupt("return",new lt({order:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),jn=function(){function e(t){Object(f.a)(this,e),this.path=t,this.params=new Map}return Object(p.a)(e,[{key:"withParams",value:function(e){var t=this;return e&&Object.entries(e).forEach((function(e){var r=Object(Ue.a)(e,2),n=r[0],a=r[1];return t.withParam(n,a)})),this}},{key:"withParam",value:function(e,t){if(null==t)return this;if("boolean"===typeof t)this.params.set(e,"");else if("number"===typeof t)this.params.set(e,String(t));else if("string"===typeof t)this.params.set(e,t);else{if(!Array.isArray(t))throw new Error("Unknown parameter type: "+typeof t);this.params.set(e,t)}return this}},{key:"build",value:function(){var e=Array.from(this.params.entries()).reduce((function(e,t){var r=Object(Ue.a)(t,2),n=r[0],a=r[1];return Array.isArray(a)?a.forEach((function(t){return e.push([n,t])})):e.push([n,a]),e}),[]).map((function(e){var t=Object(Ue.a)(e,2),r=t[0],n=t[1];return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n))})),t=e.length>0?"?"+e.join("&"):"";return"".concat(this.path).concat(t)}}],[{key:"forPath",value:function(t,r){return new e(t).withParams(r)}}]),e}(),gn=function(){function e(t){Object(f.a)(this,e),this.httpService=t}return Object(p.a)(e,[{key:"getOrders",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.get(jn.forPath("/orders",{createdAfter:t.createdAfter,createdBy:t.createdBy,limit:t.limit,statuses:t.statuses.map(rt)}).build());case 2:return r=e.sent,e.abrupt("return",ot.deserialize(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.post("/orders",ut.serialize(t));case 2:return r=e.sent,e.abrupt("return",ct.deserialize(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOrder",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.post("/orders/".concat(t.orderId),st.serialize(t));case 2:return r=e.sent,e.abrupt("return",lt.deserialize(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_n=An("UAAAAA",1);var kn=function(){function e(t){Object(f.a)(this,e),this.delay=t}return Object(p.a)(e,[{key:"getUserInfo",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(this.delay);case 2:return e.abrupt("return",new g({user:new j({id:_n(),name:"Nick Whyte",roles:[]})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tn=function(){function e(t){Object(f.a)(this,e),this.httpService=t}return Object(p.a)(e,[{key:"getUserInfo",value:function(){var e=Object(Vt.a)(Kt.a.mark((function e(t){var r;return Kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpService.get("/users/"+t.id);case 2:return r=e.sent,e.abrupt("return",g.deserialize(r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var Ln=r(42),xn=r.n(Ln),Nn=o.a.memo((function(e){var t=e.Header,r=e.Content,n=e.AppTabs,a=e.history;return o.a.createElement(u.c,{history:a},o.a.createElement("div",{className:xn.a.headerContainer},o.a.createElement(t,null)),o.a.createElement("main",{className:xn.a.contentContainer},o.a.createElement(r,null)),o.a.createElement(n,null))}));r(65);!function(){var e=A.requiredObject(x.deserialize,window,"bootstrap"),t=e.user,r=function(e){switch(e){case S.FAKE:return{orderService:new Cn(500),userService:new kn(500)};case S.REAL:var t=new yn;return{orderService:new gn(t),userService:new Tn(t)}}}(e.mode).orderService,n=Object(P.a)(),i=function(e){var t=e.orderService,r=new tn,n=new nn(t),i=function(){return n.refreshOrders(r),n.subscribeToUpdates(r)},u=function(e){return n.handleOrderCardClick(r,e)},c=function(e){return n.handleOrderCardLongPress(r,e)},s=a.a((function(){return o.a.createElement(ln,{onOrderCardClick:u,onOrderCardLongPress:c,cards:n.getActiveOrders(r)})}));return{OrdersPage:function(){return o.a.createElement(sn,{OrdersGrid:s,onMount:i})}}}({orderService:r}).OrdersPage,f=function(e){var t=e.orderService,r=e.history,n=function(){return r.push(c())},i=function(){},u=new Zt,s=new Qt(t),l=function(){s.loadOrderDetails(u),s.startRefreshTimer(u)},d=function(){return s.stopRefreshTimer(u)};return{HomePage:a.a((function(){return o.a.createElement(Bt,{onMount:l,onWillUnmount:d,activeOrders:u.activeOrders,previousOrder:u.previousOrder,onNewOrderClick:n,onOrderAgainClick:i})})),refreshOrders:function(){return De(500)}}}({orderService:r,history:n}),p=f.HomePage,m=f.refreshOrders,h={AuthPage:Ne}.AuthPage,O=Br({history:n,orderService:r,refreshOrders:m}).OrderFormFlow,E=_({user:t}),v=E.withAuthRequired,b=E.withAnonOnly,y=function(e){var t=e.userInfo;return{Header:a.a((function(){return o.a.createElement(I,{userInfo:t})}))}}({userInfo:t}).Header,w=X(v(p)),C=v(i),j=X(b(h)),g=X(v(O)),T=function(){return o.a.createElement(u.d,null,o.a.createElement(u.b,{path:s(),component:j}),o.a.createElement(u.b,{path:l(),component:C}),o.a.createElement(u.b,{path:c(),component:g}),o.a.createElement(u.b,{path:d(),component:w}),o.a.createElement(u.a,{to:k(t)}))};pn.a.render(o.a.createElement((function(){return o.a.createElement(Nn,{history:n,AppTabs:function(){return o.a.createElement("div",null)},Header:y,Content:T})}),null),document.getElementById("root"))}()}],[[54,1,2]]]);
//# sourceMappingURL=main.a5cc2768.chunk.js.map