{"version":3,"sources":["pages/orders/orders.module.css","ui/button/button.module.css","ui/order_tile/order_tile.module.css","header/header.module.css","ui/stepper/stepper.module.css","ui/icons/icons.module.css","ui/typography/typography.module.css","ui/divider/divider.module.css","ui/loading_indicator/loading_indicator.module.css","pages/order_form/customize/customize_step.module.css","skeleton/skeleton.module.css","ui/container/container.module.css","pages/auth/auth.module.css","ui/order_tile/assets/cappuccino.jpg","ui/row/row.module.css","ui/button_select/button_select.module.css","services/user/user_dto.ts","routes/routes.tsx","base/preconditions.ts","base/serialization.ts","base/deserialization.ts","bootstrap_dto.ts","auth/auth_helpers.tsx","header/header.tsx","ui/button/button.tsx","ui/container/container.tsx","ui/icons/assets/check.svg","ui/icons/assets/chevron_left.svg","ui/icons/assets/google.svg","ui/icons/assets/spinner.svg","ui/icons/icons.tsx","pages/auth/auth.tsx","base/delay.ts","services/order/order_dto.ts","ui/divider/divider.tsx","ui/labels/labels.ts","ui/order_status_label/order_status_label.tsx","ui/order_tile/order_tile.tsx","ui/row/row.tsx","ui/typography/typography.tsx","pages/home/home.tsx","pages/home/home_presenter.ts","base/on_unmount_hoc.tsx","ui/button_select/button_select.tsx","ui/stepper/stepper.tsx","ui/loading_indicator/loading_indicator.tsx","pages/order_form/customize/customize_step.tsx","pages/order_form/order_flow_presenter.ts","pages/order_form/select_size/select_size_step.tsx","pages/order_form/select_type/select_coffee_step.tsx","pages/order_form/create.tsx","pages/order_form/select_type/create.tsx","pages/order_form/select_size/create.tsx","pages/order_form/customize/create.tsx","pages/orders/orders_presenter.ts","pages/orders/orders.tsx","services/http/http_service.ts","services/http/fetch_http_client.ts","base/id_generator.ts","services/order/fake/builders.ts","services/order/fake/fake_order_service.ts","base/url_builder.ts","services/order/http_order_client.ts","services/user/fake/builders.ts","services/user/fake/fake_user_service.ts","services/user/http_user_client.ts","skeleton/skeleton.tsx","index.tsx","services/install.tsx","pages/orders/create.tsx","pages/home/create.tsx","pages/auth/create.tsx","header/create.tsx"],"names":["module","exports","Role","Routes","step","Preconditions","o","Error","UnreachableError","x","Serialization","serializer","value","checkExists","optionalEnum","undefined","optionalObject","map","v","Deserialization","key","optionalString","optionalBoolean","optionalNumber","deserializer","Mode","RoleUtil","ADMIN","CAFE_STAFF","UserInfo","avatarUrl","id","name","roles","this","requiredString","repeatedEnum","GetUserInfoResponse","user","requiredObject","deserialize","serialize","createAuthDecorators","withAnonOnly","Inner","mobxReact","to","getInitialRoute","createAnonOnlyHoc","withAuthRequired","permittedRole","includes","createAuthRequiredHoc","ModeUtil","FAKE","REAL","Bootstrap","mode","requiredEnum","Header","React","userInfo","className","styles","header","holder","appLogo","profile","avatarImg","src","alt","iconClassMap","left","right","Button","memo","children","type","title","kind","onClick","disabled","Icon","iconPosition","stretch","classNames","button","primary","secondary","link","chromeless","toString","iconContainer","size","buttonLabel","PrimaryButton","props","SecondaryButton","Container","container","withContainer","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","width","height","viewBox","fill","ref","ForwardRef","forwardRef","sizeClassMap","small","medium","large","createIcon","IconSvg","style","color","icon","CheckIcon","CheckIconSvg","GoogleIcon","GoogleIconSvg","SpinnerIcon","ChevronLeftIconSvg","SpinnerIconSvg","AuthPage","onSignInClick","useCallback","window","location","href","authPage","delay","ms","Promise","resolve","setTimeout","CupSize","Divider","divider","withText","CoffeeType","CupSizeUtil","SMALL","MEDIUM","LARGE","MilkType","CoffeeTypeUtil","LATTE","CAPPUCCINO","FLAT_WHITE","LONG_BLACK","MOCHA","HOT_CHOC","MATCHA","ESPRESSO","Extra","MilkTypeUtil","REGULAR","SKIM","SOY","ALMOND","OAT","OrderStatus","ExtraUtil","DECAF","EXTRA_SHOT","HONEY","ICED","SUGAR","OrderStatusUtil","PENDING","ACCEPTED","READY","CANCELLED","OrderUserInfo","Order","coffeeType","createdAt","cupSize","extras","milkType","status","requiredNumber","GetOrdersRequest","createdAfter","createdBy","limit","statuses","GetOrdersResponse","continuation","orders","repeatedObject","CreateOrderRequest","CreateOrderResponse","order","UpdateOrderRequest","orderId","UpdateOrderResponse","labelForMilk","milk","labelForCoffeeType","labelForExtra","extra","labelForSize","getOrderTypeLabel","milkLabel","decaf","iced","titleCase","join","getOrderExtrasLabel","realExtras","filter","extrasCounts","Map","forEach","currCount","get","set","Array","from","count","str","toLowerCase","split","word","charAt","toUpperCase","slice","OrderStatusLabel","Bullet","Checkmark","Cross","OrderTile","extrasLabel","orderTile","imageContainer","image","cappuccino","infoContainer","Row","row","TitleMedium","titleMedium","TitleSmall","titleSmall","Paragraph","paragraph","Home","onMount","onWillUnmount","activeOrders","previousOrder","onNewOrderClick","onOrderAgainClick","Fragment","Component","HomeStore","mobx","refreshTimer","HomePresenter","orderService","getOrders","Math","round","Date","now","store","isLoading","all","fetchPreviousOrder","fetchActiveOrders","previousOrderResp","activeOrdersResp","setInterval","loadOrderDetails","clearInterval","ButtonSelect","onOptionClick","optionValue","onSelect","options","selectedOptions","buttonSelect","option","JSON","stringify","selected","label","SelectableButton","Stepper","onChange","minValue","maxValue","stepper","min","max","maybeClampMin","stepperValue","stepperValueInner","maybeClampMax","LoadingIndicator","loadingIndicator","CustomizeStep","ExtraShotStepper","SugarStepper","MilkSelect","ExtrasSelect","onSubmitClick","canSubmitOrder","isSubmitting","orderInfo","stepperGroup","buttonContainer","Step","OrderFlowStore","OrderFlowPresenter","history","refreshOrders","extraShots","sugar","newValue","e","getOrderExtras","createOrderReq","fromPromise","createOrder","push","state","SelectSizeStep","SizeSelect","onCustomizeClick","SelectCoffeeStep","CoffeeKindSelect","createOrderFormFlow","action","presenter","coffeeSelectOptions","onCoffeeKindOptionSelected","onCoffeeTypeOptionSelected","createSelectTypeStep","submitOrder","customizeOrder","onSizeOptionSelected","sizeSelectOptions","maybeGetOrderInfo","createSelectSizeStep","onSugarValueChange","onExtraShotValueChange","onMilkOptionSelected","onExtraOptionSelected","milkSelectOptions","extrasSelectOptions","createCustomizeStep","withActiveOrder","withValidState","SelectSizeStepImpl","CustomizeStepImpl","OrderFormFlow","resetOrder","useEffect","path","component","predicate","redirect","OrdersStore","deep","timerId","ACTIVE_STATUSES","OrdersPresenter","timer","resp","cards","card","orderCard","updateOrder","getNextStatus","OrdersPage","OrdersGrid","ordersPage","onOrderCardClick","onOrderCardLongPress","ordersGrid","OrderCard","onLongPress","extrasLabelOfOrder","onClickImpl","pressHandlers","callback","startLongPress","setStartLongPress","clearTimeout","start","stop","stopPropagation","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","useLongPress","orderCardButton","loading","orderDetails","coffeeTypeLabel","cardTitleOfOrder","orderStatusLabel","formatDistance","addSuffix","userDetails","userAvatar","userName","HttpServiceError","HttpNotFoundError","HttpForbiddenError","HttpBadRequestError","HttpServerError","HttpServiceUnavailableError","FetchHttpClient","fetch","handleResponse","body","method","headers","json","idGenerator","prefix","initial","orderIdGenerator","anOrderWith","opts","FakeOrderService","req","orderIdx","findIndex","updatedOrder","splice","UrlBuilder","params","entries","withParam","String","isArray","paramSet","reduce","param","encodeURIComponent","qs","withParams","HttpOrderClient","httpService","forPath","build","data","post","userIdGenerator","FakeUserService","HttpUserClient","Skeleton","Content","AppTabs","headerContainer","contentContainer","userService","installServices","createBrowserHistory","subscribeToUpdates","onOrderClick","handleOrderCardClick","onOrderLongPress","handleOrderCardLongPress","OrdersGridImpl","getActiveOrders","createOrdersPage","startRefreshTimer","stopRefreshTimer","HomePage","createHomePage","createHeader","HomePageImpl","OrdersPageImpl","AuthPageImpl","OrderFormFlowImpl","AppContent","ReactDOM","render","document","getElementById","main"],"mappings":"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","file":"static/js/main.a5cc2768.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersPage\":\"orders_ordersPage__qjHwO\",\"ordersGrid\":\"orders_ordersGrid__5rSH_\",\"orderCardButton\":\"orders_orderCardButton__2fSzi\",\"loading\":\"orders_loading__12HSt\",\"loadingIndicator\":\"orders_loadingIndicator__dOet_\",\"orderDetails\":\"orders_orderDetails__3HURH\",\"coffeeTypeLabel\":\"orders_coffeeTypeLabel__LO06S\",\"extrasLabel\":\"orders_extrasLabel__oOqQa\",\"orderStatusLabel\":\"orders_orderStatusLabel__2Gpnr\",\"userDetails\":\"orders_userDetails__26zh8\",\"userAvatar\":\"orders_userAvatar__YsYuA\",\"userName\":\"orders_userName__3m3Oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2CF7H\",\"stretch\":\"button_stretch__1hwtB\",\"iconContainer\":\"button_iconContainer__2CiVJ\",\"left\":\"button_left__2Fjm7\",\"right\":\"button_right__3JMYh\",\"buttonLabel\":\"button_buttonLabel__15zNZ\",\"primary\":\"button_primary__3GAs6\",\"secondary\":\"button_secondary__3HU62\",\"link\":\"button_link__2yRjs\",\"chromeless\":\"button_chromeless__8dw-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderTile\":\"order_tile_orderTile__2sTYh\",\"imageContainer\":\"order_tile_imageContainer__3pchS\",\"image\":\"order_tile_image__1smDC\",\"infoContainer\":\"order_tile_infoContainer__3B-Kw\",\"coffeeType\":\"order_tile_coffeeType__3Pbk1\",\"extrasLabel\":\"order_tile_extrasLabel__1O7jm\",\"status\":\"order_tile_status__3dsTr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__hC3A-\",\"appLogo\":\"header_appLogo__wu6f2\",\"holder\":\"header_holder__2lp--\",\"profile\":\"header_profile__3h7xM\",\"avatarImg\":\"header_avatarImg__o17Mm\",\"hasBackButton\":\"header_hasBackButton__1eSkM\",\"backButton\":\"header_backButton__HvXw6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepper\":\"stepper_stepper__3nURO\",\"button\":\"stepper_button__18Bcw\",\"stepperValue\":\"stepper_stepperValue__30uqU\",\"stepperValueInner\":\"stepper_stepperValueInner__2P8ZD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"icons_icon__2xztb\",\"small\":\"icons_small__2mStb\",\"medium\":\"icons_medium__34lP5\",\"large\":\"icons_large__1cV9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleMedium\":\"typography_titleMedium__24QDr\",\"titleSmall\":\"typography_titleSmall__25o-f\",\"paragraph\":\"typography_paragraph__1QY4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"divider_divider__2NmCv\",\"withText\":\"divider_withText__1yEVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingIndicator\":\"loading_indicator_loadingIndicator__194fV\",\"spin\":\"loading_indicator_spin__3JO80\",\"stretch\":\"loading_indicator_stretch__3_aFs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepperGroup\":\"customize_step_stepperGroup__FBtV1\",\"buttonContainer\":\"customize_step_buttonContainer__1dnqB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerContainer\":\"skeleton_headerContainer__3d0eO\",\"contentContainer\":\"skeleton_contentContainer__qh2CR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__1n2pY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authPage\":\"auth_authPage__2ryI7\",\"authButton\":\"auth_authButton__2tB4v\",\"authButtonLabel\":\"auth_authButtonLabel__lAXiJ\",\"authButtonIcon\":\"auth_authButtonIcon__GHzPS\"};","module.exports = __webpack_public_path__ + \"static/media/cappuccino.ee625984.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"row_row__lPS53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonSelect\":\"button_select_buttonSelect__2f0be\"};","// @formatter:off\nimport { UnreachableError } from 'base/preconditions';\nimport { Serialization } from 'base/serialization';\nimport { Deserialization } from 'base/deserialization';\n\nexport enum Role {\n  ADMIN,\n  CAFE_STAFF,\n}\n\nexport const RoleUtil = {\n  deserialize(value: string): Role {\n    switch(value) {\n      case 'ADMIN': return Role.ADMIN;\n      case 'CAFE_STAFF': return Role.CAFE_STAFF;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: Role): string {\n    switch(value) {\n      case Role.ADMIN: return 'ADMIN';\n      case Role.CAFE_STAFF: return 'CAFE_STAFF';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): Role[] {\n    return [\n      Role.ADMIN,\n      Role.CAFE_STAFF,\n    ]\n  }\n};\n\nexport class UserInfo {\n  readonly avatarUrl: string | undefined;\n  readonly id: string;\n  readonly name: string | undefined;\n  readonly roles: Role[];\n  constructor({\n    avatarUrl,\n    id,\n    name,\n    roles,  \n  }: {\n    avatarUrl?: string,\n    id: string,\n    name?: string,\n    roles: Role[],  \n  }) {\n    this.avatarUrl = avatarUrl;\n    this.id = id;\n    this.name = name;\n    this.roles = roles;\n  }\n  \n  static deserialize(o: any): UserInfo {\n    return new UserInfo({\n      avatarUrl: Deserialization.optionalString(o, 'avatarUrl'),\n      id: Deserialization.requiredString(o, 'id'),\n      name: Deserialization.optionalString(o, 'name'),\n      roles: Deserialization.repeatedEnum(RoleUtil.deserialize, o, 'roles'),  \n    })\n  }\n  \n  static serialize(o: UserInfo): object {\n    return {\n      'avatarUrl': o.avatarUrl,\n      'id': o.id,\n      'name': o.name,\n      'roles': Serialization.repeatedEnum(RoleUtil.serialize, o.roles),  \n    }\n  }\n}\n\nexport class GetUserInfoRequest {\n  readonly id: string;\n  constructor({\n    id,  \n  }: {\n    id: string,  \n  }) {\n    this.id = id;\n  }\n  \n  static deserialize(o: any): GetUserInfoRequest {\n    return new GetUserInfoRequest({\n      id: Deserialization.requiredString(o, 'id'),  \n    })\n  }\n  \n  static serialize(o: GetUserInfoRequest): object {\n    return {\n      'id': o.id,  \n    }\n  }\n}\n\nexport class GetUserInfoResponse {\n  readonly user: UserInfo;\n  constructor({\n    user,  \n  }: {\n    user: UserInfo,  \n  }) {\n    this.user = user;\n  }\n  \n  static deserialize(o: any): GetUserInfoResponse {\n    return new GetUserInfoResponse({\n      user: Deserialization.requiredObject(UserInfo.deserialize, o, 'user'),  \n    })\n  }\n  \n  static serialize(o: GetUserInfoResponse): object {\n    return {\n      'user': Serialization.requiredObject(UserInfo.serialize, o.user),  \n    }\n  }\n}\n","export const Routes = {\n  newOrder(step?: 'select-type' | 'select-size' | 'customize'): string {\n    return '/new-order' + (step != null ? '/' + step : '');\n  },\n  login(): string {\n    return '/login';\n  },\n  orders(): string {\n    return '/orders';\n  },\n  home(): string {\n    return '/home';\n  },\n};\n","export class Preconditions {\n  static checkExists<T>(o: T | null | undefined): T {\n    if (o == null) {\n      throw new Error('expected value');\n    }\n    return o;\n  }\n}\n\nexport class UnreachableError extends Error {\n  constructor(x: never) {\n    super('unreachable case: ' + x);\n  }\n}\n","import { Preconditions } from './preconditions';\n\nexport class Serialization {\n\n  static requiredEnum<T>(serializer: (value: T) => string, value: T): string {\n    return Preconditions.checkExists(Serialization.optionalEnum(serializer, value));\n  }\n\n  static optionalEnum<T>(serializer: (value: T) => string, value: T): string | undefined {\n    return value != null\n        ? serializer(value)\n        : undefined;\n  }\n\n  static requiredObject<T>(serializer: (o: T) => object, value: T): object {\n    return Preconditions.checkExists(Serialization.optionalObject(serializer, value));\n  }\n\n  static optionalObject<T>(serializer: (o: T) => object, value: T | undefined): object | undefined {\n    return value != null\n        ? serializer(value)\n        : undefined;\n  }\n\n  static repeatedEnum<T>(serializer: (value: T) => string, value: T[]): string[] {\n    return value.map(v => serializer(v));\n  }\n\n  static repeatedObject<T>(serializer: (value: T) => object, value: T[]): object[] {\n    return value.map(v => serializer(v));\n  }\n}\n","import { Preconditions } from './preconditions';\n\nexport class Deserialization {\n  static requiredString(o: object, key: string): string {\n    return Preconditions.checkExists(Deserialization.optionalString(o, key));\n  }\n\n  static optionalString(o: object, key: string): string | undefined {\n    return (o as any)[key];\n  }\n\n  static requiredBoolean(o: object, key: string): boolean {\n    return Preconditions.checkExists(Deserialization.optionalBoolean(o, key));\n  }\n\n  static optionalBoolean(o: object, key: string): boolean | undefined {\n    return (o as any)[key];\n  }\n\n  static requiredNumber(o: object, key: string): number {\n    return Preconditions.checkExists(Deserialization.optionalNumber(o, key));\n  }\n\n  static optionalNumber(o: object, key: string): number | undefined {\n    return (o as any)[key];\n  }\n\n  static requiredEnum<T>(deserializer: (value: string) => T, o: object, key: string): T {\n    return Preconditions.checkExists(Deserialization.optionalEnum(deserializer, o, key));\n  }\n\n  static optionalEnum<T>(deserializer: (value: string) => T, o: object, key: string): T | undefined {\n    const value = (o as any)[key];\n    return value != null\n        ? deserializer(value)\n        : undefined;\n  }\n\n  static requiredObject<T>(deserializer: (o: object) => T, o: object, key: string): T {\n    return Preconditions.checkExists(Deserialization.optionalObject(deserializer, o, key));\n  }\n\n  static optionalObject<T>(deserializer: (o: object) => T, o: object, key: string): T | undefined {\n    const value = (o as any)[key];\n    return value != null\n        ? deserializer(value)\n        : undefined;\n  }\n\n  static repeatedEnum<T>(deserializer: (value: string) => T, o: object, key: string): T[] {\n    const value = (o as any)[key];\n    return value != null\n        ? value.map(deserializer)\n        : [];\n  }\n\n  static repeatedObject<T>(deserializer: (value: string) => T, o: object, key: string): T[] {\n    const value = (o as any)[key];\n    return value != null\n        ? value.map(deserializer)\n        : [];\n  }\n}\n","// @formatter:off\nimport { UnreachableError } from 'base/preconditions';\nimport { Serialization } from 'base/serialization';\nimport { UserInfo } from 'services/user/user_dto';\nimport { Deserialization } from 'base/deserialization';\n\nexport enum Mode {\n  FAKE,\n  REAL,\n}\n\nexport const ModeUtil = {\n  deserialize(value: string): Mode {\n    switch(value) {\n      case 'FAKE': return Mode.FAKE;\n      case 'REAL': return Mode.REAL;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: Mode): string {\n    switch(value) {\n      case Mode.FAKE: return 'FAKE';\n      case Mode.REAL: return 'REAL';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): Mode[] {\n    return [\n      Mode.FAKE,\n      Mode.REAL,\n    ]\n  }\n};\n\nexport class Bootstrap {\n  readonly mode: Mode;\n  readonly user: UserInfo | undefined;\n  constructor({\n    mode,\n    user,  \n  }: {\n    mode: Mode,\n    user?: UserInfo,  \n  }) {\n    this.mode = mode;\n    this.user = user;\n  }\n  \n  static deserialize(o: any): Bootstrap {\n    return new Bootstrap({\n      mode: Deserialization.requiredEnum(ModeUtil.deserialize, o, 'mode'),\n      user: Deserialization.optionalObject(UserInfo.deserialize, o, 'user'),  \n    })\n  }\n  \n  static serialize(o: Bootstrap): object {\n    return {\n      'mode': Serialization.requiredEnum(ModeUtil.serialize, o.mode),\n      'user': Serialization.optionalObject(UserInfo.serialize, o.user),  \n    }\n  }\n}\n","import * as mobxReact from 'mobx-react';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Routes } from 'routes/routes';\nimport { Role, UserInfo } from 'services/user/user_dto';\n\n\nexport const createAuthRequiredHoc = ({\n  user,\n}: {\n  user: UserInfo | undefined\n}) => (Inner: React.ComponentType, permittedRole?: Role) => mobxReact.observer(() => {\n  if (user == null) {\n    return <Redirect to={getInitialRoute(user)}/>;\n  }\n\n  if (permittedRole == null || user.roles.includes(permittedRole)) {\n    return <Inner/>;\n  }\n  return <div>You don't have permission to view this page</div>;\n});\n\nexport const createAnonOnlyHoc = ({\n  user,\n}: {\n  user: UserInfo | undefined\n}) => (Inner: React.ComponentType) => mobxReact.observer(() => (\n    user == null\n        ? <Inner/>\n        : <Redirect to={getInitialRoute(user)}/>\n));\n\nexport function createAuthDecorators({\n  user,\n}: {\n  user: UserInfo | undefined\n}) {\n  const withAnonOnly = createAnonOnlyHoc({ user });\n  const withAuthRequired = createAuthRequiredHoc({ user });\n  return { withAnonOnly, withAuthRequired };\n}\n\nexport function getInitialRoute(user: UserInfo | undefined) {\n  if (!user) {\n    return Routes.login();\n  }\n\n  if (user.roles.includes(Role.CAFE_STAFF)) {\n    return Routes.orders();\n  }\n\n  return Routes.home();\n}\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Routes } from 'routes/routes';\nimport { UserInfo } from 'services/user/user_dto';\nimport styles from './header.module.css';\n\n\nexport const Header = React.memo(({\n  userInfo,\n}: {\n  userInfo: UserInfo | undefined\n}) => {\n  return (\n      <header className={styles.header}>\n        <div className={styles.holder}></div>\n        <Link to={Routes.home()} className={styles.appLogo}>Dj Brew</Link>\n        <div className={styles.holder}>\n          {userInfo && (\n              <div className={styles.profile}>\n                {userInfo.avatarUrl && (\n                    <img\n                        className={styles.avatarImg}\n                        src={userInfo.avatarUrl}\n                        alt=\"User profile\"/>\n                )}\n              </div>\n          )}\n        </div>\n      </header>\n  );\n});\n","import classNames from 'classnames';\nimport React from 'react';\nimport { Icon } from 'ui/icons/icons';\nimport styles from './button.module.css';\n\ntype IconPosition = 'left' | 'right';\n\nexport type ButtonProps = {\n  children?: React.ReactNode,\n  Icon?: Icon,\n  iconPosition?: 'left' | 'right',\n  type?: 'submit' | 'button',\n  title?: string,\n  onClick?(): void,\n  disabled?: boolean,\n  className?: string,\n  stretch?: boolean,\n}\n\ntype InternalButtonProps = ButtonProps & {\n  kind: 'primary' | 'secondary' | 'link' | 'chromeless',\n}\n\nconst iconClassMap: Record<IconPosition, string> = {\n  'left': styles.left,\n  'right': styles.right,\n};\n\nconst Button = React.memo(({\n  children,\n  type,\n  title,\n  kind,\n  onClick,\n  disabled,\n  Icon,\n  iconPosition = 'left',\n  className,\n  stretch= true,\n}: InternalButtonProps) => {\n  return (\n      <button\n          className={classNames(styles.button, className, {\n            [styles.primary]: kind === 'primary',\n            [styles.secondary]: kind === 'secondary',\n            [styles.link]: kind === 'link',\n            [styles.chromeless]: kind === 'chromeless',\n            [styles.stretch]: stretch,\n          })}\n          type={type}\n          title={title || children?.toString()}\n          onClick={onClick}\n          disabled={disabled}\n      >\n        {Icon && (\n            <div className={classNames(styles.iconContainer, iconClassMap[iconPosition])}>\n              <Icon size=\"medium\"/>\n            </div>\n        )}\n        <div className={styles.buttonLabel}>{children}</div>\n      </button>\n  );\n});\n\nexport const PrimaryButton = (props: ButtonProps) => <Button kind=\"primary\" {...props} />;\nexport const SecondaryButton = (props: ButtonProps) => <Button kind=\"secondary\" {...props} />;\nexport const LinkButton = (props: ButtonProps) => <Button kind=\"link\" {...props} />;\n","import React from 'react';\nimport styles from './container.module.css';\n\nexport const Container = React.memo(({ children }) => (\n    <div className={styles.container}>{children}</div>\n));\n\nexport const withContainer = (Inner: React.ComponentType) => () => (\n    <Container><Inner/></Container>\n);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"check1\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M26.109 8.844c0 0.391-0.156 0.781-0.438 1.062l-13.438 13.438c-0.281 0.281-0.672 0.438-1.062 0.438s-0.781-0.156-1.062-0.438l-7.781-7.781c-0.281-0.281-0.438-0.672-0.438-1.062s0.156-0.781 0.438-1.062l2.125-2.125c0.281-0.281 0.672-0.438 1.062-0.438s0.781 0.156 1.062 0.438l4.594 4.609 10.25-10.266c0.281-0.281 0.672-0.438 1.062-0.438s0.781 0.156 1.062 0.438l2.125 2.125c0.281 0.281 0.438 0.672 0.438 1.062z\"\n});\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.1c1c3db0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"chevron-left\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M18.297 4.703l-8.297 8.297 8.297 8.297c0.391 0.391 0.391 1.016 0 1.406l-2.594 2.594c-0.391 0.391-1.016 0.391-1.406 0l-11.594-11.594c-0.391-0.391-0.391-1.016 0-1.406l11.594-11.594c0.391-0.391 1.016-0.391 1.406 0l2.594 2.594c0.391 0.391 0.391 1.016 0 1.406z\"\n});\n\nvar SvgChevronLeft = function SvgChevronLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 28,\n    viewBox: \"0 0 21 28\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgChevronLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron_left.174a415f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z\",\n  fill: \"#4285f4\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z\",\n  fill: \"#34a853\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z\",\n  fill: \"#fbbc04\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z\",\n  fill: \"#ea4335\"\n});\n\nvar SvgGoogle = function SvgGoogle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 533.5 544.3\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGoogle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/google.56b7e874.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"chevron-left\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"icomoon-ignore\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M75.056 437.12c-48.432-48.368-75.056-112.624-75.056-181.12 0-141.12 114.816-256 256-256l32 32-32 32c-105.872 0-192 86.128-192 192 0 51.376 20 99.632 56.32 135.872l-39.312 5.12-5.952 40.128zM256 512l-32-31.872 32-32.128c105.872 0 192-86.128 192-192 0-51.248-20-99.504-56.368-135.808l39.376-5.184 5.872-40.064c48.432 48.368 75.12 112.688 75.12 181.056 0 141.12-114.88 256-256 256v0z\"\n});\n\nvar SvgSpinner = function SvgSpinner(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? React.createElement(\"title\", null, title) : null, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSpinner, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/spinner.4e6ca972.svg\";\nexport { ForwardRef as ReactComponent };","import classNames from 'classnames';\nimport React from 'react';\nimport { ReactComponent as CheckIconSvg } from './assets/check.svg';\nimport { ReactComponent as ChevronLeftIconSvg } from './assets/chevron_left.svg';\nimport { ReactComponent as GoogleIconSvg } from './assets/google.svg';\nimport { ReactComponent as SpinnerIconSvg } from './assets/spinner.svg';\nimport styles from './icons.module.css';\n\nexport type IconSize = 'small' | 'medium' | 'large';\n\ntype IconProps = {\n  size: IconSize,\n  color?: string,\n}\n\nexport type Icon = React.ComponentType<IconProps>;\n\nconst sizeClassMap: Record<IconSize, string> = {\n  'small': styles.small,\n  'medium': styles.medium,\n  'large': styles.large,\n};\n\nfunction createIcon(IconSvg: React.ComponentType) {\n  return (props: IconProps) => (\n      <span\n          style={{ color: props.color }}\n          className={classNames(styles.icon, sizeClassMap[props.size])}>\n            <IconSvg/>\n      </span>\n  );\n}\n\n\nexport const CheckIcon = createIcon(CheckIconSvg);\nexport const GoogleIcon = createIcon(GoogleIconSvg);\nexport const ChevronLeftIcon = createIcon(ChevronLeftIconSvg);\nexport const SpinnerIcon = createIcon(SpinnerIconSvg);\n","import React from 'react';\nimport { SecondaryButton } from 'ui/button/button';\nimport { Container } from 'ui/container/container';\nimport { GoogleIcon } from 'ui/icons/icons';\nimport styles from './auth.module.css';\n\nexport const AuthPage = React.memo(() => {\n  const onSignInClick = React.useCallback(() =>\n      window.location.href = '/login/google', []);\n  return (\n      <Container>\n        <div className={styles.authPage}>\n          <p>Welcome to Deja-Brew!</p>\n          <p>So that we know that you are, please sign in with your Canva Google account</p>\n          <SecondaryButton\n              onClick={onSignInClick}\n              title=\"Sign in with Google\"\n              Icon={GoogleIcon}\n          >\n            Sign in with Google\n          </SecondaryButton>\n        </div>\n      </Container>\n  );\n});\n","export function delay(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n","// @formatter:off\nimport { UnreachableError } from 'base/preconditions';\nimport { Serialization } from 'base/serialization';\nimport { Deserialization } from 'base/deserialization';\n\nexport enum CupSize {\n  SMALL,\n  MEDIUM,\n  LARGE,\n}\n\nexport const CupSizeUtil = {\n  deserialize(value: string): CupSize {\n    switch(value) {\n      case 'SMALL': return CupSize.SMALL;\n      case 'MEDIUM': return CupSize.MEDIUM;\n      case 'LARGE': return CupSize.LARGE;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: CupSize): string {\n    switch(value) {\n      case CupSize.SMALL: return 'SMALL';\n      case CupSize.MEDIUM: return 'MEDIUM';\n      case CupSize.LARGE: return 'LARGE';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): CupSize[] {\n    return [\n      CupSize.SMALL,\n      CupSize.MEDIUM,\n      CupSize.LARGE,\n    ]\n  }\n};\n\nexport enum CoffeeType {\n  LATTE,\n  CAPPUCCINO,\n  FLAT_WHITE,\n  LONG_BLACK,\n  MOCHA,\n  HOT_CHOC,\n  MATCHA,\n  ESPRESSO,\n}\n\nexport const CoffeeTypeUtil = {\n  deserialize(value: string): CoffeeType {\n    switch(value) {\n      case 'LATTE': return CoffeeType.LATTE;\n      case 'CAPPUCCINO': return CoffeeType.CAPPUCCINO;\n      case 'FLAT_WHITE': return CoffeeType.FLAT_WHITE;\n      case 'LONG_BLACK': return CoffeeType.LONG_BLACK;\n      case 'MOCHA': return CoffeeType.MOCHA;\n      case 'HOT_CHOC': return CoffeeType.HOT_CHOC;\n      case 'MATCHA': return CoffeeType.MATCHA;\n      case 'ESPRESSO': return CoffeeType.ESPRESSO;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: CoffeeType): string {\n    switch(value) {\n      case CoffeeType.LATTE: return 'LATTE';\n      case CoffeeType.CAPPUCCINO: return 'CAPPUCCINO';\n      case CoffeeType.FLAT_WHITE: return 'FLAT_WHITE';\n      case CoffeeType.LONG_BLACK: return 'LONG_BLACK';\n      case CoffeeType.MOCHA: return 'MOCHA';\n      case CoffeeType.HOT_CHOC: return 'HOT_CHOC';\n      case CoffeeType.MATCHA: return 'MATCHA';\n      case CoffeeType.ESPRESSO: return 'ESPRESSO';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): CoffeeType[] {\n    return [\n      CoffeeType.LATTE,\n      CoffeeType.CAPPUCCINO,\n      CoffeeType.FLAT_WHITE,\n      CoffeeType.LONG_BLACK,\n      CoffeeType.MOCHA,\n      CoffeeType.HOT_CHOC,\n      CoffeeType.MATCHA,\n      CoffeeType.ESPRESSO,\n    ]\n  }\n};\n\nexport enum MilkType {\n  REGULAR,\n  SKIM,\n  SOY,\n  ALMOND,\n  OAT,\n}\n\nexport const MilkTypeUtil = {\n  deserialize(value: string): MilkType {\n    switch(value) {\n      case 'REGULAR': return MilkType.REGULAR;\n      case 'SKIM': return MilkType.SKIM;\n      case 'SOY': return MilkType.SOY;\n      case 'ALMOND': return MilkType.ALMOND;\n      case 'OAT': return MilkType.OAT;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: MilkType): string {\n    switch(value) {\n      case MilkType.REGULAR: return 'REGULAR';\n      case MilkType.SKIM: return 'SKIM';\n      case MilkType.SOY: return 'SOY';\n      case MilkType.ALMOND: return 'ALMOND';\n      case MilkType.OAT: return 'OAT';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): MilkType[] {\n    return [\n      MilkType.REGULAR,\n      MilkType.SKIM,\n      MilkType.SOY,\n      MilkType.ALMOND,\n      MilkType.OAT,\n    ]\n  }\n};\n\nexport enum Extra {\n  DECAF,\n  EXTRA_SHOT,\n  HONEY,\n  ICED,\n  SUGAR,\n}\n\nexport const ExtraUtil = {\n  deserialize(value: string): Extra {\n    switch(value) {\n      case 'DECAF': return Extra.DECAF;\n      case 'EXTRA_SHOT': return Extra.EXTRA_SHOT;\n      case 'HONEY': return Extra.HONEY;\n      case 'ICED': return Extra.ICED;\n      case 'SUGAR': return Extra.SUGAR;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: Extra): string {\n    switch(value) {\n      case Extra.DECAF: return 'DECAF';\n      case Extra.EXTRA_SHOT: return 'EXTRA_SHOT';\n      case Extra.HONEY: return 'HONEY';\n      case Extra.ICED: return 'ICED';\n      case Extra.SUGAR: return 'SUGAR';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): Extra[] {\n    return [\n      Extra.DECAF,\n      Extra.EXTRA_SHOT,\n      Extra.HONEY,\n      Extra.ICED,\n      Extra.SUGAR,\n    ]\n  }\n};\n\nexport enum OrderStatus {\n  PENDING,\n  ACCEPTED,\n  READY,\n  CANCELLED,\n}\n\nexport const OrderStatusUtil = {\n  deserialize(value: string): OrderStatus {\n    switch(value) {\n      case 'PENDING': return OrderStatus.PENDING;\n      case 'ACCEPTED': return OrderStatus.ACCEPTED;\n      case 'READY': return OrderStatus.READY;\n      case 'CANCELLED': return OrderStatus.CANCELLED;\n      default: throw new Error('Unknown value: ' + value)\n    }\n  },\n  serialize(value: OrderStatus): string {\n    switch(value) {\n      case OrderStatus.PENDING: return 'PENDING';\n      case OrderStatus.ACCEPTED: return 'ACCEPTED';\n      case OrderStatus.READY: return 'READY';\n      case OrderStatus.CANCELLED: return 'CANCELLED';\n      default: throw new UnreachableError(value)\n    } \n  },\n  values(): OrderStatus[] {\n    return [\n      OrderStatus.PENDING,\n      OrderStatus.ACCEPTED,\n      OrderStatus.READY,\n      OrderStatus.CANCELLED,\n    ]\n  }\n};\n\nexport class OrderUserInfo {\n  readonly avatarUrl: string | undefined;\n  readonly id: string;\n  readonly name: string | undefined;\n  constructor({\n    avatarUrl,\n    id,\n    name,  \n  }: {\n    avatarUrl?: string,\n    id: string,\n    name?: string,  \n  }) {\n    this.avatarUrl = avatarUrl;\n    this.id = id;\n    this.name = name;\n  }\n  \n  static deserialize(o: any): OrderUserInfo {\n    return new OrderUserInfo({\n      avatarUrl: Deserialization.optionalString(o, 'avatarUrl'),\n      id: Deserialization.requiredString(o, 'id'),\n      name: Deserialization.optionalString(o, 'name'),  \n    })\n  }\n  \n  static serialize(o: OrderUserInfo): object {\n    return {\n      'avatarUrl': o.avatarUrl,\n      'id': o.id,\n      'name': o.name,  \n    }\n  }\n}\n\nexport class Order {\n  readonly coffeeType: CoffeeType;\n  readonly createdAt: number;\n  readonly cupSize: CupSize;\n  readonly extras: Extra[];\n  readonly id: string;\n  readonly milkType: MilkType;\n  readonly status: OrderStatus;\n  readonly user: OrderUserInfo;\n  constructor({\n    coffeeType,\n    createdAt,\n    cupSize,\n    extras,\n    id,\n    milkType,\n    status,\n    user,  \n  }: {\n    coffeeType: CoffeeType,\n    createdAt: number,\n    cupSize: CupSize,\n    extras: Extra[],\n    id: string,\n    milkType: MilkType,\n    status: OrderStatus,\n    user: OrderUserInfo,  \n  }) {\n    this.coffeeType = coffeeType;\n    this.createdAt = createdAt;\n    this.cupSize = cupSize;\n    this.extras = extras;\n    this.id = id;\n    this.milkType = milkType;\n    this.status = status;\n    this.user = user;\n  }\n  \n  static deserialize(o: any): Order {\n    return new Order({\n      coffeeType: Deserialization.requiredEnum(CoffeeTypeUtil.deserialize, o, 'coffeeType'),\n      createdAt: Deserialization.requiredNumber(o, 'createdAt'),\n      cupSize: Deserialization.requiredEnum(CupSizeUtil.deserialize, o, 'cupSize'),\n      extras: Deserialization.repeatedEnum(ExtraUtil.deserialize, o, 'extras'),\n      id: Deserialization.requiredString(o, 'id'),\n      milkType: Deserialization.requiredEnum(MilkTypeUtil.deserialize, o, 'milkType'),\n      status: Deserialization.requiredEnum(OrderStatusUtil.deserialize, o, 'status'),\n      user: Deserialization.requiredObject(OrderUserInfo.deserialize, o, 'user'),  \n    })\n  }\n  \n  static serialize(o: Order): object {\n    return {\n      'coffeeType': Serialization.requiredEnum(CoffeeTypeUtil.serialize, o.coffeeType),\n      'createdAt': o.createdAt,\n      'cupSize': Serialization.requiredEnum(CupSizeUtil.serialize, o.cupSize),\n      'extras': Serialization.repeatedEnum(ExtraUtil.serialize, o.extras),\n      'id': o.id,\n      'milkType': Serialization.requiredEnum(MilkTypeUtil.serialize, o.milkType),\n      'status': Serialization.requiredEnum(OrderStatusUtil.serialize, o.status),\n      'user': Serialization.requiredObject(OrderUserInfo.serialize, o.user),  \n    }\n  }\n}\n\nexport class GetOrdersRequest {\n  readonly createdAfter: number | undefined;\n  readonly createdBy: string | undefined;\n  readonly limit: number | undefined;\n  readonly statuses: OrderStatus[];\n  constructor({\n    createdAfter,\n    createdBy,\n    limit,\n    statuses,  \n  }: {\n    createdAfter?: number,\n    createdBy?: string,\n    limit?: number,\n    statuses: OrderStatus[],  \n  }) {\n    this.createdAfter = createdAfter;\n    this.createdBy = createdBy;\n    this.limit = limit;\n    this.statuses = statuses;\n  }\n  \n  static deserialize(o: any): GetOrdersRequest {\n    return new GetOrdersRequest({\n      createdAfter: Deserialization.optionalNumber(o, 'createdAfter'),\n      createdBy: Deserialization.optionalString(o, 'createdBy'),\n      limit: Deserialization.optionalNumber(o, 'limit'),\n      statuses: Deserialization.repeatedEnum(OrderStatusUtil.deserialize, o, 'statuses'),  \n    })\n  }\n  \n  static serialize(o: GetOrdersRequest): object {\n    return {\n      'createdAfter': o.createdAfter,\n      'createdBy': o.createdBy,\n      'limit': o.limit,\n      'statuses': Serialization.repeatedEnum(OrderStatusUtil.serialize, o.statuses),  \n    }\n  }\n}\n\nexport class GetOrdersResponse {\n  readonly continuation: string | undefined;\n  readonly orders: Order[];\n  constructor({\n    continuation,\n    orders,  \n  }: {\n    continuation?: string,\n    orders: Order[],  \n  }) {\n    this.continuation = continuation;\n    this.orders = orders;\n  }\n  \n  static deserialize(o: any): GetOrdersResponse {\n    return new GetOrdersResponse({\n      continuation: Deserialization.optionalString(o, 'continuation'),\n      orders: Deserialization.repeatedObject(Order.deserialize, o, 'orders'),  \n    })\n  }\n  \n  static serialize(o: GetOrdersResponse): object {\n    return {\n      'continuation': o.continuation,\n      'orders': Serialization.repeatedObject(Order.serialize, o.orders),  \n    }\n  }\n}\n\nexport class GetOrderResponse {\n  readonly order: Order;\n  constructor({\n    order,  \n  }: {\n    order: Order,  \n  }) {\n    this.order = order;\n  }\n  \n  static deserialize(o: any): GetOrderResponse {\n    return new GetOrderResponse({\n      order: Deserialization.requiredObject(Order.deserialize, o, 'order'),  \n    })\n  }\n  \n  static serialize(o: GetOrderResponse): object {\n    return {\n      'order': Serialization.requiredObject(Order.serialize, o.order),  \n    }\n  }\n}\n\nexport class CreateOrderRequest {\n  readonly coffeeType: CoffeeType;\n  readonly cupSize: CupSize;\n  readonly extras: Extra[];\n  readonly milkType: MilkType;\n  constructor({\n    coffeeType,\n    cupSize,\n    extras,\n    milkType,  \n  }: {\n    coffeeType: CoffeeType,\n    cupSize: CupSize,\n    extras: Extra[],\n    milkType: MilkType,  \n  }) {\n    this.coffeeType = coffeeType;\n    this.cupSize = cupSize;\n    this.extras = extras;\n    this.milkType = milkType;\n  }\n  \n  static deserialize(o: any): CreateOrderRequest {\n    return new CreateOrderRequest({\n      coffeeType: Deserialization.requiredEnum(CoffeeTypeUtil.deserialize, o, 'coffeeType'),\n      cupSize: Deserialization.requiredEnum(CupSizeUtil.deserialize, o, 'cupSize'),\n      extras: Deserialization.repeatedEnum(ExtraUtil.deserialize, o, 'extras'),\n      milkType: Deserialization.requiredEnum(MilkTypeUtil.deserialize, o, 'milkType'),  \n    })\n  }\n  \n  static serialize(o: CreateOrderRequest): object {\n    return {\n      'coffeeType': Serialization.requiredEnum(CoffeeTypeUtil.serialize, o.coffeeType),\n      'cupSize': Serialization.requiredEnum(CupSizeUtil.serialize, o.cupSize),\n      'extras': Serialization.repeatedEnum(ExtraUtil.serialize, o.extras),\n      'milkType': Serialization.requiredEnum(MilkTypeUtil.serialize, o.milkType),  \n    }\n  }\n}\n\nexport class CreateOrderResponse {\n  readonly order: Order;\n  constructor({\n    order,  \n  }: {\n    order: Order,  \n  }) {\n    this.order = order;\n  }\n  \n  static deserialize(o: any): CreateOrderResponse {\n    return new CreateOrderResponse({\n      order: Deserialization.requiredObject(Order.deserialize, o, 'order'),  \n    })\n  }\n  \n  static serialize(o: CreateOrderResponse): object {\n    return {\n      'order': Serialization.requiredObject(Order.serialize, o.order),  \n    }\n  }\n}\n\nexport class UpdateOrderRequest {\n  readonly orderId: string;\n  readonly status: OrderStatus;\n  constructor({\n    orderId,\n    status,  \n  }: {\n    orderId: string,\n    status: OrderStatus,  \n  }) {\n    this.orderId = orderId;\n    this.status = status;\n  }\n  \n  static deserialize(o: any): UpdateOrderRequest {\n    return new UpdateOrderRequest({\n      orderId: Deserialization.requiredString(o, 'orderId'),\n      status: Deserialization.requiredEnum(OrderStatusUtil.deserialize, o, 'status'),  \n    })\n  }\n  \n  static serialize(o: UpdateOrderRequest): object {\n    return {\n      'orderId': o.orderId,\n      'status': Serialization.requiredEnum(OrderStatusUtil.serialize, o.status),  \n    }\n  }\n}\n\nexport class UpdateOrderResponse {\n  readonly order: Order;\n  constructor({\n    order,  \n  }: {\n    order: Order,  \n  }) {\n    this.order = order;\n  }\n  \n  static deserialize(o: any): UpdateOrderResponse {\n    return new UpdateOrderResponse({\n      order: Deserialization.requiredObject(Order.deserialize, o, 'order'),  \n    })\n  }\n  \n  static serialize(o: UpdateOrderResponse): object {\n    return {\n      'order': Serialization.requiredObject(Order.serialize, o.order),  \n    }\n  }\n}\n","import classNames from 'classnames';\nimport React from 'react';\nimport styles from './divider.module.css';\n\nexport const Divider = React.memo(({ children }) => (\n    <div className={classNames(styles.divider, children && styles.withText)}>\n      {children}\n    </div>\n));\n","import { UnreachableError } from 'base/preconditions';\nimport { CoffeeType, CupSize, Extra, MilkType, Order } from 'services/order/order_dto';\n\nexport function labelForMilk(milk: MilkType): string {\n  switch (milk) {\n    case MilkType.REGULAR:\n      return 'Regular';\n    case MilkType.SKIM:\n      return 'Skim';\n    case MilkType.SOY:\n      return 'Soy';\n    case MilkType.ALMOND:\n      return 'Almond';\n    case MilkType.OAT:\n      return 'Oat';\n    default:\n      throw new UnreachableError(milk);\n  }\n}\n\nexport function labelForCoffeeType(coffeeType: CoffeeType): string {\n  switch (coffeeType) {\n    case CoffeeType.LATTE:\n      return 'Latte';\n    case CoffeeType.CAPPUCCINO:\n      return 'Cappuccino';\n    case CoffeeType.FLAT_WHITE:\n      return 'Flat White';\n    case CoffeeType.LONG_BLACK:\n      return 'Long Black';\n    case CoffeeType.MOCHA:\n      return 'Mocha';\n    case CoffeeType.HOT_CHOC:\n      return 'Hot Choc';\n    case CoffeeType.MATCHA:\n      return 'Matcha';\n    case CoffeeType.ESPRESSO:\n      return 'Espresso';\n    default:\n      throw new UnreachableError(coffeeType);\n  }\n}\n\n\nexport function labelForExtra(extra: Extra): string {\n  switch (extra) {\n    case Extra.DECAF:\n      return 'Decaf';\n    case Extra.EXTRA_SHOT:\n      return 'Extra Shot';\n    case Extra.HONEY:\n      return 'Honey';\n    case Extra.ICED:\n      return 'Iced';\n    case Extra.SUGAR:\n      return 'Sugar';\n    default:\n      throw new UnreachableError(extra);\n  }\n}\n\nexport function labelForSize(size: CupSize): string {\n  switch (size) {\n    case CupSize.SMALL:\n      return 'Small';\n    case CupSize.MEDIUM:\n      return 'Medium';\n    case CupSize.LARGE:\n      return 'Large';\n    default:\n      throw new UnreachableError(size);\n  }\n}\n\nexport function getOrderTypeLabel({\n  milkType,\n  coffeeType,\n  cupSize,\n  extras,\n}: {\n  coffeeType: CoffeeType\n  milkType: MilkType,\n  cupSize: CupSize,\n  extras: readonly Extra[]\n}) {\n  const milkLabel = milkType === MilkType.REGULAR ? '' : labelForMilk(milkType);\n  const decaf = extras.includes(Extra.DECAF) ? labelForExtra(Extra.DECAF) : '';\n  const iced = extras.includes(Extra.ICED) ? labelForExtra(Extra.ICED) : '';\n  return titleCase([\n    labelForSize(cupSize),\n    decaf,\n    iced,\n    milkLabel,\n    labelForCoffeeType(coffeeType),\n  ].join(' '));\n}\n\nexport function getOrderExtrasLabel(extras: readonly Extra[]): string | undefined {\n  const realExtras = extras\n      .filter(extra => ![Extra.DECAF, Extra.ICED].includes(extra));\n  if (realExtras.length) {\n    const extrasCounts = new Map<Extra, number>();\n    realExtras.forEach(extra => {\n      const currCount = extrasCounts.get(extra) || 0;\n      extrasCounts.set(extra, currCount + 1);\n    });\n\n    return Array.from(extrasCounts).map(([extra, count]) => {\n      return `${count}x ${titleCase(labelForExtra(extra))}`;\n    }).join(', ');\n  }\n}\n\n\nexport function cardTitleOfOrder(order: Order) {\n  return getOrderTypeLabel({ ...order });\n}\n\nexport function extrasLabelOfOrder(order: Order): string | undefined {\n  return getOrderExtrasLabel(order.extras);\n}\n\nfunction titleCase(str: string) {\n  return str.toLowerCase().split(' ').map(function(word) {\n    return (word.charAt(0).toUpperCase() + word.slice(1));\n  }).join(' ');\n}\n","import { UnreachableError } from 'base/preconditions';\nimport * as React from 'react';\nimport { OrderStatus } from 'services/order/order_dto';\n\nexport const OrderStatusLabel = ({ status }: { status: OrderStatus }) => {\n  switch (status) {\n    case OrderStatus.PENDING:\n      return <><Bullet color=\"orange\"/> &nbsp;Pending</>;\n    case OrderStatus.ACCEPTED:\n      return <><Bullet color=\"#66C136\"/> &nbsp;Accepted</>;\n    case OrderStatus.READY:\n      return <><Checkmark color=\"#66C136\"/> &nbsp;Ready</>;\n    case OrderStatus.CANCELLED:\n      return <><Cross color=\"red\"/> &nbsp;Cancelled</>;\n    default:\n      throw new UnreachableError(status);\n  }\n};\n\nconst Bullet = ({ color }: { color: string }) => (<span style={{ color }}></span>);\nconst Checkmark = ({ color }: { color: string }) => (<span style={{ color }}></span>);\nconst Cross = ({ color }: { color: string }) => (<span style={{ color }}></span>);\n","import React from 'react';\nimport { Order } from 'services/order/order_dto';\nimport { getOrderExtrasLabel, getOrderTypeLabel } from 'ui/labels/labels';\nimport { OrderStatusLabel } from 'ui/order_status_label/order_status_label';\nimport cappuccino from './assets/cappuccino.jpg';\nimport styles from './order_tile.module.css';\n\ntype RequiredFields = 'cupSize' | 'milkType' | 'extras' | 'coffeeType';\ntype OptionalFields = 'status';\nexport type OrderInfo = Pick<Order, RequiredFields> & Partial<Pick<Order, OptionalFields>>;\n\nexport const OrderTile = ({\n  order,\n}: {\n  order: OrderInfo,\n}) => {\n  const extrasLabel = getOrderExtrasLabel(order.extras);\n  return (\n      <div className={styles.orderTile}>\n        <div className={styles.imageContainer}>\n          <img className={styles.image} src={cappuccino} alt=\"\"/>\n        </div>\n        <div className={styles.infoContainer}>\n          <div className={styles.coffeeType}>{getOrderTypeLabel(order)}</div>\n          {extrasLabel && (<div className={styles.extrasLabel}>{extrasLabel}</div>)}\n          {order.status != null && (\n              <div className={styles.status}>\n                <OrderStatusLabel status={order.status}/>\n              </div>\n          )}\n        </div>\n      </div>\n  );\n};\n","import React from 'react';\nimport styles from './row.module.css';\n\nexport const Row = React.memo(({ children }) => (\n    <div className={styles.row}>{children}</div>\n));\n","import React from 'react';\nimport styles from './typography.module.css';\n\nexport const TitleMedium = React.memo(({ children }) => (\n    <h3 className={styles.titleMedium}>{children}</h3>\n));\n\nexport const TitleSmall = React.memo(({ children }) => (\n    <h4 className={styles.titleSmall}>{children}</h4>\n));\n\n\nexport const Paragraph = React.memo(({ children }) => (\n    <p className={styles.paragraph}>{children}</p>\n));\n","import React from 'react';\nimport { Order } from 'services/order/order_dto';\nimport { PrimaryButton, SecondaryButton } from 'ui/button/button';\nimport { Divider } from 'ui/divider/divider';\nimport { OrderTile } from 'ui/order_tile/order_tile';\nimport { Row } from 'ui/row/row';\nimport { TitleMedium } from 'ui/typography/typography';\n\nexport class Home extends React.Component<{\n  activeOrders: readonly Order[] | undefined,\n  previousOrder: Order | undefined,\n  onNewOrderClick(): void,\n  onOrderAgainClick(): void,\n  onMount(): void,\n  onWillUnmount(): void,\n}> {\n  componentDidMount(): void {\n    this.props.onMount()\n  }\n\n  componentWillUnmount(): void {\n    this.props.onWillUnmount();\n  }\n\n  render() {\n    let {\n      activeOrders,\n      previousOrder,\n      onNewOrderClick,\n      onOrderAgainClick,\n    } = this.props;\n    return (\n        <div>\n          {activeOrders && activeOrders.length > 0 && (\n              <>\n                <Row><TitleMedium>Your Orders</TitleMedium></Row>\n                {activeOrders.map(order => (\n                    <React.Fragment key={order.id}>\n                      <Row><OrderTile order={order}/></Row>\n                    </React.Fragment>\n                ))}\n              </>\n          )}\n          {previousOrder && !activeOrders && (\n              <>\n                <Row><TitleMedium>Your last order</TitleMedium></Row>\n                <Row><OrderTile order={previousOrder}/></Row>\n                <Row><PrimaryButton onClick={onOrderAgainClick}>Order again</PrimaryButton></Row>\n                <Row><Divider>OR</Divider></Row>\n              </>\n          )}\n          <Row>\n            <SecondaryButton onClick={onNewOrderClick}>New Order</SecondaryButton>\n          </Row>\n        </div>\n    );\n  }\n}\n","import * as mobx from 'mobx';\nimport { GetOrdersRequest, Order, OrderStatus } from 'services/order/order_dto';\nimport { OrderService } from 'services/order/order_service';\n\n\nexport class HomeStore {\n  @mobx.observable.ref\n  previousOrder: Order | undefined;\n\n  @mobx.observable.ref\n  activeOrders: Order[] | undefined;\n\n  @mobx.observable.ref\n  isLoading: boolean = false;\n\n  /** The interval id of the timer used for refreshing */\n  refreshTimer: number | undefined;\n}\n\nexport class HomePresenter {\n  constructor(private readonly orderService: OrderService) {\n  }\n\n  private fetchPreviousOrder() {\n    return this.orderService.getOrders(new GetOrdersRequest({\n      createdBy: 'me',\n      statuses: [OrderStatus.READY],\n      limit: 1,\n    }));\n  }\n\n  private fetchActiveOrders() {\n    return this.orderService.getOrders(new GetOrdersRequest({\n      createdBy: 'me',\n      statuses: [OrderStatus.READY, OrderStatus.PENDING, OrderStatus.ACCEPTED],\n      // Orders created within the 30 mins\n      createdAfter: Math.round((Date.now() / 1000) - 30 * 60),\n    }));\n  }\n\n  @mobx.action\n  async loadOrderDetails(store: HomeStore): Promise<void> {\n    store.isLoading = true;\n\n    const [previousOrderResp, activeOrdersResp] = await Promise.all([\n      this.fetchPreviousOrder(),\n      this.fetchActiveOrders(),\n    ]);\n\n    mobx.runInAction(() => {\n      store.isLoading = false;\n      store.previousOrder = previousOrderResp.orders[0];\n      store.activeOrders = activeOrdersResp.orders;\n    });\n  }\n\n  startRefreshTimer(store: HomeStore) {\n    store.refreshTimer = window.setInterval(() => {\n      this.loadOrderDetails(store)\n    }, 5000);\n  }\n\n  stopRefreshTimer(store: HomeStore) {\n    window.clearInterval(store.refreshTimer);\n  }\n}\n","import React from 'react';\n\n\nexport const withOnUnmount = (action: () => void) => (Inner: React.ComponentType) => React.memo(() => {\n  React.useEffect(() => action);\n  return <Inner/>;\n});\n","import React from 'react';\nimport { SecondaryButton } from 'ui/button/button';\nimport { CheckIcon } from 'ui/icons/icons';\nimport styles from './button_select.module.css';\n\nexport type Option<T> = {\n  label: string,\n  value: T,\n}\ntype ButtonSelectProps<T> = {\n  options: readonly Option<T>[],\n  selectedOptions?: readonly T[]\n  onSelect(value: T): void,\n}\n\nexport class ButtonSelect<T> extends React.Component<ButtonSelectProps<T>> {\n  private readonly onOptionClick = (optionValue: T) => {\n    this.props.onSelect(optionValue);\n  };\n\n  render() {\n    const { options, selectedOptions } = this.props;\n\n    return (\n        <div className={styles.buttonSelect}>\n          {options.map(option => (\n              <SelectableButton\n                  key={JSON.stringify(option.value)}\n                  value={option.value}\n                  onClick={this.onOptionClick}\n                  selected={selectedOptions && selectedOptions.includes(option.value)}\n                  label={option.label}\n              />\n          ))}\n        </div>\n    );\n  }\n}\n\ntype SelectableButtonProps<T> = {\n  value: T,\n  label: string,\n  onClick(value: T): void,\n  selected?: boolean,\n}\n\nclass SelectableButton<T> extends React.Component<SelectableButtonProps<T>> {\n  private readonly onClick = () => {\n    this.props.onClick(this.props.value);\n  };\n\n  render() {\n    const { selected, label } = this.props;\n    return (\n        <SecondaryButton\n            Icon={selected ? CheckIcon : undefined}\n            iconPosition=\"right\"\n            onClick={this.onClick}\n        >\n          {label}\n        </SecondaryButton>\n    );\n  }\n}\n","import React from 'react';\nimport { SecondaryButton } from 'ui/button/button';\nimport styles from './stepper.module.css';\n\n\nconst maybeClampMax = (value: number, max: number | undefined) => max != null\n    ? Math.min(max, value)\n    : value;\nconst maybeClampMin = (value: number, min: number | undefined) => min != null\n    ? Math.max(min, value)\n    : value;\n\n\nexport const Stepper = React.memo(({\n  onChange,\n  value,\n  minValue,\n  maxValue,\n}: {\n  onChange(value: number): void,\n  value: number,\n  maxValue?: number,\n  minValue?: number,\n}) => {\n  const onIncrement = () => onChange(maybeClampMax(value + 1, maxValue));\n  const onDecrement = () => onChange(maybeClampMin(value - 1, minValue));\n  return (\n      <div className={styles.stepper}>\n        <SecondaryButton onClick={onDecrement} className={styles.button}>-</SecondaryButton>\n        <div className={styles.stepperValue}>\n          <div className={styles.stepperValueInner}>{value}</div>\n        </div>\n        <SecondaryButton onClick={onIncrement} className={styles.button}>+</SecondaryButton>\n      </div>\n  );\n});\n","import classNames from 'classnames';\nimport React from 'react';\nimport { IconSize, SpinnerIcon } from 'ui/icons/icons';\nimport styles from './loading_indicator.module.css';\n\nexport const LoadingIndicator = React.memo(({\n  stretch = false,\n  size = 'large',\n}: {\n  stretch?: boolean\n  size?: IconSize,\n}) => {\n  return (\n      <div className={classNames(styles.loadingIndicator, {\n        [styles.stretch]: stretch,\n      })}>\n        <SpinnerIcon size={size}/>\n      </div>\n  );\n});\n","import React from 'react';\nimport { PrimaryButton } from 'ui/button/button';\nimport { LoadingIndicator } from 'ui/loading_indicator/loading_indicator';\nimport { OrderInfo, OrderTile } from 'ui/order_tile/order_tile';\nimport { Row } from 'ui/row/row';\nimport { TitleMedium, TitleSmall } from 'ui/typography/typography';\nimport styles from './customize_step.module.css';\n\nexport const CustomizeStep = React.memo(({\n  ExtraShotStepper,\n  SugarStepper,\n  MilkSelect,\n  ExtrasSelect,\n  onSubmitClick,\n  canSubmitOrder,\n  isSubmitting,\n  orderInfo,\n}: {\n  ExtraShotStepper: React.ComponentType,\n  SugarStepper: React.ComponentType,\n  MilkSelect: React.ComponentType,\n  ExtrasSelect: React.ComponentType,\n  onSubmitClick(): void,\n  canSubmitOrder: boolean,\n  isSubmitting: boolean,\n  orderInfo: OrderInfo | undefined,\n}) => (\n    <div>\n      <Row><TitleSmall>Milk?</TitleSmall></Row>\n      <Row><MilkSelect/></Row>\n      <Row><TitleSmall>Extras?</TitleSmall></Row>\n      <Row><ExtrasSelect/></Row>\n      <Row>\n        <div className={styles.stepperGroup}>\n          <div>\n            <Row><TitleSmall>Sugar</TitleSmall></Row>\n            <Row><SugarStepper/></Row>\n          </div>\n          <div>\n            <Row><TitleSmall>Extra Shots</TitleSmall></Row>\n            <Row><ExtraShotStepper/></Row>\n          </div>\n        </div>\n      </Row>\n      {orderInfo && (\n          <>\n            <Row>\n              <TitleMedium>Your Order</TitleMedium>\n            </Row>\n            <Row>\n              <OrderTile order={orderInfo}/>\n            </Row>\n          </>\n      )}\n      <div className={styles.buttonContainer}>\n        <PrimaryButton\n            onClick={onSubmitClick}\n            disabled={!canSubmitOrder}\n        >\n          {isSubmitting\n              ? <LoadingIndicator size=\"small\"/>\n              : 'Submit Order'}\n        </PrimaryButton>\n      </div>\n    </div>\n));\n","import { Preconditions } from 'base/preconditions';\nimport { History } from 'history';\nimport * as mobx from 'mobx';\nimport { fromPromise, IPromiseBasedObservable } from 'mobx-utils';\nimport { Routes } from 'routes/routes';\nimport {\n  CoffeeType,\n  CreateOrderRequest,\n  CreateOrderResponse,\n  CupSize,\n  Extra,\n  MilkType,\n} from 'services/order/order_dto';\nimport { OrderService } from 'services/order/order_service';\nimport { OrderInfo } from 'ui/order_tile/order_tile';\n\n\nexport enum Step {\n  WELCOME,\n  SELECT_TYPE,\n  SELECT_SIZE,\n  CUSTOMIZE,\n}\n\nexport class OrderFlowStore {\n  @mobx.observable.ref\n  coffeeType: CoffeeType | undefined;\n\n  @mobx.observable.ref\n  extraShots: number = 0;\n\n  @mobx.observable.ref\n  sugar: number = 0;\n\n  @mobx.observable.ref\n  milkType: MilkType = MilkType.REGULAR;\n\n  @mobx.observable.ref\n  extras: Extra[] = [];\n\n  @mobx.observable.ref\n  cupSize: CupSize | undefined;\n\n  @mobx.observable.ref\n  createOrderReq: IPromiseBasedObservable<CreateOrderResponse> | undefined;\n}\n\nexport class OrderFlowPresenter {\n  constructor(\n      private readonly orderService: OrderService,\n      private readonly history: History,\n      private readonly refreshOrders: () => Promise<void>,\n  ) {\n  }\n\n  @mobx.action\n  resetOrder(store: OrderFlowStore) {\n    store.coffeeType = undefined;\n    store.extraShots = 0;\n    store.sugar = 0;\n    store.milkType = MilkType.REGULAR;\n    store.extras = [];\n    store.cupSize = undefined;\n  }\n\n  @mobx.action\n  onCoffeeTypeOptionSelected(store: OrderFlowStore, newValue: CoffeeType) {\n    store.coffeeType = newValue;\n  }\n\n  @mobx.action\n  onSizeOptionSelected(store: OrderFlowStore, newValue: CupSize) {\n    store.cupSize = newValue;\n  }\n\n  @mobx.action\n  onSugarValueChange(store: OrderFlowStore, newValue: number) {\n    store.sugar = newValue;\n  }\n\n  @mobx.action\n  onExtraShotValueChange(store: OrderFlowStore, newValue: number) {\n    store.extraShots = newValue;\n  }\n\n  @mobx.action\n  onMilkOptionSelected(store: OrderFlowStore, newValue: MilkType) {\n    store.milkType = newValue;\n  }\n\n  @mobx.action\n  onExtraOptionSelected(store: OrderFlowStore, option: Extra) {\n    if (store.extras.includes(option)) {\n      store.extras = store.extras.filter(e => e !== option);\n    } else {\n      store.extras = [...store.extras, option];\n    }\n  }\n\n  canSubmitOrder(store: OrderFlowStore) {\n    return store.cupSize != null && store.coffeeType != null\n        && !this.isSubmitting(store);\n  }\n\n  maybeGetOrderInfo(store: OrderFlowStore): OrderInfo | undefined {\n    if (store.cupSize == null) {\n      return;\n    }\n\n    if (store.coffeeType == null) {\n      return;\n    }\n\n    return {\n      cupSize: store.cupSize,\n      extras: this.getOrderExtras(store),\n      coffeeType: store.coffeeType,\n      milkType: store.milkType,\n    };\n  }\n\n  @mobx.action\n  async submitOrder(store: OrderFlowStore) {\n    store.createOrderReq = fromPromise(this.orderService.createOrder(new CreateOrderRequest({\n      cupSize: Preconditions.checkExists(store.cupSize),\n      extras: this.getOrderExtras(store),\n      coffeeType: Preconditions.checkExists(store.coffeeType),\n      milkType: store.milkType,\n    })));\n    await store.createOrderReq;\n    this.history.push(Routes.home());\n    await this.refreshOrders();\n  }\n\n  isSubmitting(store: OrderFlowStore) {\n    return store.createOrderReq?.state === 'pending';\n  }\n\n  getErrorMessage(store: OrderFlowStore) {\n    return store.createOrderReq?.state === 'rejected' && store.createOrderReq.value.toString();\n  }\n\n  @mobx.action\n  customizeOrder(store: OrderFlowStore) {\n    this.history.push(Routes.newOrder('customize'));\n  }\n\n  getOrderExtras(store: OrderFlowStore) {\n    return [\n      ...store.extras,\n      ...Array.from({ length: store.extraShots }, () => Extra.EXTRA_SHOT),\n      ...Array.from({ length: store.sugar }, () => Extra.SUGAR),\n    ];\n  }\n}\n","import React from 'react';\nimport { PrimaryButton, SecondaryButton } from 'ui/button/button';\nimport { LoadingIndicator } from 'ui/loading_indicator/loading_indicator';\nimport { OrderInfo, OrderTile } from 'ui/order_tile/order_tile';\nimport { Row } from 'ui/row/row';\nimport { Paragraph, TitleMedium } from 'ui/typography/typography';\n\nexport const SelectSizeStep = React.memo(({\n  SizeSelect,\n  onSubmitClick,\n  onCustomizeClick,\n  canSubmitOrder,\n  isSubmitting,\n  orderInfo,\n}: {\n  SizeSelect: React.ComponentType,\n  onSubmitClick(): void,\n  onCustomizeClick(): void,\n  canSubmitOrder: boolean,\n  isSubmitting: boolean,\n  orderInfo: OrderInfo | undefined\n}) => (\n    <div>\n      <Row>\n        <TitleMedium>Cup Size</TitleMedium>\n        <Paragraph>What size of coffee would you like?</Paragraph>\n      </Row>\n      <SizeSelect/>\n      {orderInfo && (\n          <>\n            <Row><TitleMedium>Your Order</TitleMedium></Row>\n            <Row><OrderTile order={orderInfo}/></Row>\n          </>\n      )}\n      <Row>\n        <PrimaryButton\n            disabled={!canSubmitOrder}\n            onClick={onSubmitClick}\n        >\n          {isSubmitting\n              ? <LoadingIndicator size=\"small\"/>\n              : 'Done'}\n        </PrimaryButton>\n      </Row>\n      <Row>\n        <SecondaryButton\n            disabled={!canSubmitOrder}\n            onClick={onCustomizeClick}\n        >\n          Customize &rarr;\n        </SecondaryButton>\n      </Row>\n    </div>\n));\n","import React from 'react';\nimport { Row } from 'ui/row/row';\nimport { Paragraph, TitleMedium } from 'ui/typography/typography';\n\nexport const SelectCoffeeStep = React.memo(({\n  CoffeeKindSelect,\n}: {\n  CoffeeKindSelect: React.ComponentType,\n}) => (\n    <div>\n      <Row>\n        <TitleMedium>Coffee Type</TitleMedium>\n        <Paragraph>What would you like to drink today?</Paragraph>\n      </Row>\n      <CoffeeKindSelect/>\n    </div>\n));\n","import { withOnUnmount } from 'base/on_unmount_hoc';\nimport { History } from 'history';\nimport { createCustomizeStep } from 'pages/order_form/customize/create';\nimport { OrderFlowPresenter, OrderFlowStore } from 'pages/order_form/order_flow_presenter';\nimport { createSelectSizeStep } from 'pages/order_form/select_size/create';\nimport { createSelectTypeStep } from 'pages/order_form/select_type/create';\nimport React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Routes } from 'routes/routes';\nimport { OrderService } from 'services/order/order_service';\n\nexport function createOrderFormFlow({\n  history,\n  orderService,\n  refreshOrders,\n}: {\n  history: History\n  orderService: OrderService,\n  refreshOrders(): Promise<void>,\n}) {\n  const store = new OrderFlowStore();\n  const presenter = new OrderFlowPresenter(orderService, history, refreshOrders);\n\n  const SelectCoffeeStep = createSelectTypeStep({ store, presenter, history });\n  const SelectSizeStep = createSelectSizeStep({ store, presenter });\n  const CustomizeStep = createCustomizeStep({ store, presenter });\n\n  const withActiveOrder = withValidState(() => store.coffeeType != null, \"/new-order/\");\n  const SelectSizeStepImpl = withActiveOrder(SelectSizeStep);\n  const CustomizeStepImpl = withActiveOrder(CustomizeStep);\n\n  const withNewOrderOnUnmount = withOnUnmount(() => presenter.resetOrder(store));\n\n  const RoutedOrderFormFlow = React.memo(() => (\n      <Switch>\n        <Route path={Routes.newOrder('select-type')} component={SelectCoffeeStep}/>\n        <Route path={Routes.newOrder('select-size')} component={SelectSizeStepImpl}/>\n        <Route path={Routes.newOrder('customize')} component={CustomizeStepImpl}/>\n        <Redirect from={Routes.newOrder()} to={Routes.newOrder('select-type')}/>\n      </Switch>\n  ));\n\n  return {\n    OrderFormFlow: withNewOrderOnUnmount(RoutedOrderFormFlow),\n  };\n}\n\n\nconst withValidState = (\n    predicate: () => boolean,\n    redirect: string,\n) => (Inner: React.ComponentType) => React.memo(() => {\n  if (predicate()) {\n    return <Inner/>;\n  } else {\n    return <Redirect to={redirect}/>;\n  }\n});\n","import { History } from 'history';\nimport * as mobxReact from 'mobx-react';\nimport { OrderFlowPresenter, OrderFlowStore } from 'pages/order_form/order_flow_presenter';\nimport { SelectCoffeeStep } from 'pages/order_form/select_type/select_coffee_step';\nimport React from 'react';\nimport { CoffeeType, CoffeeTypeUtil } from 'services/order/order_dto';\nimport { ButtonSelect } from 'ui/button_select/button_select';\nimport { labelForCoffeeType } from 'ui/labels/labels';\n\nexport function createSelectTypeStep({\n  store,\n  presenter,\n  history,\n}: {\n  store: OrderFlowStore,\n  presenter: OrderFlowPresenter,\n  history: History\n}) {\n  const coffeeSelectOptions = CoffeeTypeUtil.values().map(coffeeType => ({\n    label: labelForCoffeeType(coffeeType),\n    value: coffeeType,\n  }));\n\n  const onCoffeeKindOptionSelected = (value: CoffeeType) => {\n    presenter.onCoffeeTypeOptionSelected(store, value);\n    history.push(\"/new-order/select-size\");\n  };\n\n  const CoffeeKindSelect = mobxReact.observer(() => (\n      <ButtonSelect\n          options={coffeeSelectOptions}\n          onSelect={onCoffeeKindOptionSelected}\n      />\n  ));\n\n  return () => (\n      <SelectCoffeeStep\n          CoffeeKindSelect={CoffeeKindSelect}\n      />\n  );\n\n}\n","import * as mobxReact from 'mobx-react';\nimport { OrderFlowPresenter, OrderFlowStore } from 'pages/order_form/order_flow_presenter';\nimport React from 'react';\nimport { CupSize, CupSizeUtil } from 'services/order/order_dto';\nimport { ButtonSelect } from 'ui/button_select/button_select';\nimport { labelForSize } from 'ui/labels/labels';\nimport { SelectSizeStep } from './select_size_step';\n\nexport function createSelectSizeStep({\n  store,\n  presenter,\n}: {\n  store: OrderFlowStore,\n  presenter: OrderFlowPresenter,\n}) {\n  const onSubmitClick = () => presenter.submitOrder(store);\n  const onCustomizeClick = () => presenter.customizeOrder(store);\n  const onSizeOptionSelected = (value: CupSize) =>\n      presenter.onSizeOptionSelected(store, value);\n\n  const sizeSelectOptions = CupSizeUtil.values().map(size => ({\n    label: labelForSize(size),\n    value: size,\n  }));\n\n  const SizeSelect = mobxReact.observer(() =>\n      <ButtonSelect\n          options={sizeSelectOptions}\n          onSelect={onSizeOptionSelected}\n          selectedOptions={store.cupSize != null ? [store.cupSize] : undefined}\n      />,\n  );\n\n  return mobxReact.observer(() => (\n      <SelectSizeStep\n          SizeSelect={SizeSelect}\n          onSubmitClick={onSubmitClick}\n          onCustomizeClick={onCustomizeClick}\n          canSubmitOrder={presenter.canSubmitOrder(store)}\n          isSubmitting={presenter.isSubmitting(store)}\n          orderInfo={presenter.maybeGetOrderInfo(store)}\n      />\n  ));\n\n}\n","import * as mobxReact from 'mobx-react';\nimport { OrderFlowPresenter, OrderFlowStore } from 'pages/order_form/order_flow_presenter';\nimport React from 'react';\nimport { Extra, MilkType, MilkTypeUtil } from 'services/order/order_dto';\nimport { ButtonSelect } from 'ui/button_select/button_select';\nimport { labelForExtra, labelForMilk } from 'ui/labels/labels';\nimport { Stepper } from 'ui/stepper/stepper';\nimport { CustomizeStep } from './customize_step';\n\nexport function createCustomizeStep({\n  store,\n  presenter,\n}: {\n  store: OrderFlowStore,\n  presenter: OrderFlowPresenter,\n}) {\n  const onSugarValueChange = (value: number) => presenter.onSugarValueChange(store, value);\n  const onExtraShotValueChange = (value: number) => presenter.onExtraShotValueChange(store, value);\n  const onMilkOptionSelected = (value: MilkType) => presenter.onMilkOptionSelected(store, value);\n  const onExtraOptionSelected = (value: Extra) => presenter.onExtraOptionSelected(store, value);\n\n  const onSubmitClick = () => presenter.submitOrder(store);\n\n  const milkSelectOptions = MilkTypeUtil.values().map(milkType => ({\n    label: labelForMilk(milkType),\n    value: milkType,\n  }));\n  const extrasSelectOptions = [Extra.DECAF, Extra.HONEY].map(extra => ({\n    label: labelForExtra(extra),\n    value: extra,\n  }));\n\n  const SugarStepper = mobxReact.observer(() =>\n      <Stepper onChange={onSugarValueChange} value={store.sugar} minValue={0}/>);\n  const ExtraShotStepper = mobxReact.observer(() =>\n      <Stepper onChange={onExtraShotValueChange} value={store.extraShots} minValue={0}/>);\n  const MilkSelect = mobxReact.observer(() =>\n      <ButtonSelect\n          options={milkSelectOptions}\n          onSelect={onMilkOptionSelected}\n          selectedOptions={[store.milkType]}\n      />,\n  );\n  const ExtrasSelect = mobxReact.observer(() => (\n      <ButtonSelect\n          options={extrasSelectOptions}\n          onSelect={onExtraOptionSelected}\n          selectedOptions={store.extras}\n      />\n  ));\n\n  return mobxReact.observer(() => (\n      <CustomizeStep\n          SugarStepper={SugarStepper}\n          ExtraShotStepper={ExtraShotStepper}\n          MilkSelect={MilkSelect}\n          ExtrasSelect={ExtrasSelect}\n          onSubmitClick={onSubmitClick}\n          canSubmitOrder={presenter.canSubmitOrder(store)}\n          isSubmitting={presenter.isSubmitting(store)}\n          orderInfo={presenter.maybeGetOrderInfo(store)}\n      />\n  ));\n}\n","import * as mobx from 'mobx';\nimport { GetOrdersRequest, Order, OrderStatus, UpdateOrderRequest } from 'services/order/order_dto';\nimport { OrderService } from 'services/order/order_service';\n\nexport type OrderCardStore = {\n  isLoading: boolean,\n  order: Order,\n}\n\nexport class OrdersStore {\n  @mobx.observable.deep\n  cards: OrderCardStore[] | undefined;\n\n  @mobx.observable.ref\n  isLoading: boolean = false;\n\n  timerId: number | undefined;\n}\n\nconst ACTIVE_STATUSES = [OrderStatus.PENDING, OrderStatus.ACCEPTED];\n\nexport class OrdersPresenter {\n  constructor(\n      private readonly orderService: OrderService,\n  ) {\n  }\n\n  subscribeToUpdates(store: OrdersStore) {\n    const timer = window.setInterval(() => this.refreshOrders(store), 1000);\n    return () => window.clearInterval(timer);\n  }\n\n  @mobx.action\n  async refreshOrders(store: OrdersStore) {\n    store.isLoading = true;\n    const resp = await this.orderService.getOrders(new GetOrdersRequest({\n      statuses: ACTIVE_STATUSES,\n    }));\n    mobx.runInAction(() => {\n      store.isLoading = false;\n      store.cards = resp.orders.map(order => ({ order, isLoading: false }));\n    });\n  }\n\n  getActiveOrders(store: OrdersStore) {\n    return store.cards\n        ? store.cards.filter(card => ACTIVE_STATUSES.includes(card.order.status))\n        : [];\n  }\n\n  @mobx.action\n  async handleOrderCardClick(store: OrdersStore, orderCard: OrderCardStore) {\n    orderCard.isLoading = true;\n\n    const resp = await this.orderService.updateOrder(new UpdateOrderRequest({\n      orderId: orderCard.order.id,\n      status: getNextStatus(orderCard.order.status),\n    }));\n\n    mobx.runInAction(() => {\n      orderCard.isLoading = false;\n      orderCard.order = resp.order;\n    });\n  }\n\n  @mobx.action\n  async handleOrderCardLongPress(store: OrdersStore, orderCard: OrderCardStore) {\n\n  }\n\n}\n\nfunction getNextStatus(status: OrderStatus): OrderStatus {\n  switch (status) {\n    case OrderStatus.PENDING:\n      return OrderStatus.ACCEPTED;\n    case OrderStatus.ACCEPTED:\n      return OrderStatus.READY;\n    case OrderStatus.READY:\n      return OrderStatus.READY;\n    case OrderStatus.CANCELLED:\n      return OrderStatus.CANCELLED;\n  }\n}\n","import classNames from 'classnames';\nimport { formatDistance } from 'date-fns';\nimport * as mobxReact from 'mobx-react';\nimport { OrderCardStore } from 'pages/orders/orders_presenter';\nimport * as React from 'react';\nimport { useEffect } from 'react';\nimport { cardTitleOfOrder, extrasLabelOfOrder } from 'ui/labels/labels';\nimport { LoadingIndicator } from 'ui/loading_indicator/loading_indicator';\nimport { OrderStatusLabel } from 'ui/order_status_label/order_status_label';\nimport styles from './orders.module.css';\n\n\nexport const OrdersPage = React.memo(({\n  OrdersGrid,\n  onMount,\n}: {\n  OrdersGrid: React.ComponentType,\n  onMount(): () => void\n}) => {\n  useEffect(() => onMount());\n  return (\n      <div className={styles.ordersPage}>\n        <OrdersGrid/>\n      </div>\n  );\n});\n\nexport const OrdersGrid = React.memo(({\n  cards,\n  onOrderCardClick,\n  onOrderCardLongPress,\n}: {\n  cards: OrderCardStore[],\n  onOrderCardClick(order: OrderCardStore): void,\n  onOrderCardLongPress(order: OrderCardStore): void,\n}) => (\n    <div className={styles.ordersGrid}>\n      {cards.map((card) => (\n          <OrderCard\n              key={card.order.id}\n              store={card}\n              onClick={onOrderCardClick}\n              onLongPress={onOrderCardLongPress}\n          />\n      ))}\n    </div>\n));\n\n// Slightly adapted version of https://stackoverflow.com/a/55880860/913363\nconst useLongPress = (callback: () => void, ms = 300) => {\n  const [startLongPress, setStartLongPress] = React.useState(false);\n\n  useEffect(() => {\n    let timerId: number | undefined;\n    if (startLongPress) {\n      timerId = window.setTimeout(callback, ms);\n    } else {\n      timerId && window.clearTimeout(timerId);\n    }\n\n    return () => {\n      window.clearTimeout(timerId);\n    };\n  }, [callback, ms, startLongPress]);\n\n  const start = React.useCallback(() => {\n    setStartLongPress(true);\n  }, []);\n  const stop = React.useCallback((e: React.TouchEvent | React.MouseEvent) => {\n    setStartLongPress(false);\n    e.stopPropagation();\n  }, []);\n\n\n  return {\n    onTouchStart: start,\n    onTouchEnd: stop,\n    onMouseDown: start,\n    onMouseUp: stop,\n    onMouseLeave: stop,\n  };\n};\n\nconst OrderCard = mobxReact.observer(({\n  store,\n  onClick,\n  onLongPress,\n}: {\n  store: OrderCardStore,\n  onClick(order: OrderCardStore): void,\n  onLongPress(order: OrderCardStore): void,\n}) => {\n  const { order, isLoading } = store;\n  const extrasLabel = extrasLabelOfOrder(order);\n  const onClickImpl = React.useCallback(() => onClick(store), [onClick, store]);\n  // TODO(NW): Need to stop click when long press occurs\n  const onLongPressImpl = React.useCallback(() => onLongPress(store), [onLongPress, store]);\n  const pressHandlers = useLongPress(onLongPressImpl, 300);\n  return (\n      <button\n          className={classNames(styles.orderCardButton, {\n            [styles.loading]: isLoading,\n          })}\n          disabled={isLoading}\n          {...pressHandlers}\n          onClick={onClickImpl}\n      >\n        <div className={styles.orderDetails}>\n\n          <div className={styles.coffeeTypeLabel}>\n            {cardTitleOfOrder(order)}\n          </div>\n          {extrasLabel && (<div className={styles.extrasLabel}>{extrasLabel}</div>)}\n          <div className={styles.orderStatusLabel}>\n            {isLoading\n                ? <LoadingIndicator size=\"small\"/>\n                : <><OrderStatusLabel status={order.status}/> &nbsp;|&nbsp; {formatDistance(\n                    order.createdAt * 1000,\n                    new Date(),\n                    {addSuffix: true}\n                )}</>\n            }\n          </div>\n        </div>\n        <div className={styles.userDetails}>\n          <img className={styles.userAvatar} src={order.user.avatarUrl} alt=\"\"/>\n          <div className={styles.userName}>{order.user.name}</div>\n        </div>\n      </button>\n  );\n});\n\n","export interface HttpService {\n  get(path: string): Promise<object>;\n\n  post(path: string, body?: object): Promise<object>;\n\n  put(path: string, body?: object): Promise<object>;\n}\n\nexport class HttpServiceError extends Error {\n\n}\n\nexport class HttpNotFoundError extends HttpServiceError {\n\n}\n\n\nexport class HttpForbiddenError extends HttpServiceError {\n\n}\n\nexport class HttpBadRequestError extends HttpServiceError {\n\n}\n\nexport class HttpServerError extends HttpServiceError {\n\n}\n\nexport class HttpServiceUnavailableError extends HttpServiceError {\n\n}\n","import {\n  HttpBadRequestError,\n  HttpForbiddenError,\n  HttpNotFoundError,\n  HttpServerError,\n  HttpService,\n  HttpServiceError,\n  HttpServiceUnavailableError,\n} from './http_service';\n\nexport class FetchHttpClient implements HttpService {\n  async get(path: string): Promise<object> {\n    const resp = await fetch('/_api' + path);\n    return this.handleResponse(resp);\n  }\n\n  async post(path: string, body?: object): Promise<object> {\n    const resp = await fetch('/_api' + path, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    return this.handleResponse(resp);\n  }\n\n  async put(path: string, body?: object): Promise<object> {\n    const resp = await fetch('/_api' + path, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n    return this.handleResponse(resp);\n  }\n\n  private handleResponse(resp: Response): Promise<object> {\n    if (resp.status === 400) {\n      throw new HttpBadRequestError();\n    } else if (resp.status === 403) {\n      throw new HttpForbiddenError();\n    } else if (resp.status === 404) {\n      throw new HttpNotFoundError();\n    } else if (resp.status === 500) {\n      throw new HttpServerError();\n    } else if (resp.status === 503) {\n      throw new HttpServiceUnavailableError();\n    } else if (resp.status < 200 || resp.status >= 300) {\n      throw new HttpServiceError();\n    }\n\n    return resp.json();\n  }\n}\n","export const idGenerator = (prefix: string, initial: number) =>\n    () => prefix + (initial++).toString();\n","import { idGenerator } from 'base/id_generator';\nimport {\n  CoffeeType,\n  CupSize,\n  Extra,\n  MilkType,\n  Order,\n  OrderStatus,\n  OrderUserInfo,\n} from 'services/order/order_dto';\n\nexport const orderIdGenerator = idGenerator('OAAAAA', 1);\n\nexport function anOrderWith(opts: Partial<Order> = {}): Order {\n  return new Order({\n    id: orderIdGenerator(),\n    coffeeType: CoffeeType.CAPPUCCINO,\n    status: OrderStatus.PENDING,\n    cupSize: CupSize.SMALL,\n    extras: [Extra.EXTRA_SHOT],\n    milkType: MilkType.REGULAR,\n    user: new OrderUserInfo({\n      id: 'UAAAAAAA',\n      name: 'Nick Whyte',\n      avatarUrl: 'https://i.pravatar.cc/96',\n    }),\n    createdAt: Date.now() / 1000,\n    ...opts,\n  });\n}\n","import { delay } from 'base/delay';\nimport {\n  CreateOrderRequest,\n  CreateOrderResponse,\n  GetOrdersRequest,\n  GetOrdersResponse,\n  Order,\n  OrderStatus,\n  UpdateOrderRequest,\n  UpdateOrderResponse,\n} from '../order_dto';\nimport { OrderService } from '../order_service';\nimport { anOrderWith } from './builders';\n\n\nexport class FakeOrderService implements OrderService {\n  constructor(private readonly delay: number) {\n  }\n\n  private readonly orders: Order[] = [\n    anOrderWith(),\n    anOrderWith(),\n    anOrderWith(),\n    anOrderWith(),\n  ];\n\n  async createOrder(req: CreateOrderRequest): Promise<CreateOrderResponse> {\n    await delay(this.delay);\n    const order = anOrderWith({\n      status: OrderStatus.PENDING,\n      ...req,\n    });\n    this.orders.push(order);\n    return new CreateOrderResponse({ order });\n  }\n\n  async getOrders(req: GetOrdersRequest): Promise<GetOrdersResponse> {\n    await delay(this.delay);\n    return new GetOrdersResponse({ orders: this.orders });\n  }\n\n  async updateOrder(req: UpdateOrderRequest): Promise<UpdateOrderResponse> {\n    await delay(this.delay);\n    const orderIdx = this.orders.findIndex(order => order.id === req.orderId);\n    const updatedOrder = new Order({\n      ...this.orders[orderIdx],\n      status: req.status,\n    });\n    this.orders.splice(orderIdx, 1, updatedOrder);\n\n    return new UpdateOrderResponse({\n      order: updatedOrder,\n    });\n  }\n\n}\n","type ValueType =\n    | string\n    | boolean\n    | number\n    | null\n    | undefined\n    | readonly string[];\n\nexport class UrlBuilder {\n  private readonly params = new Map<string, string | string[]>();\n\n  constructor(\n      private readonly path: string,\n  ) {\n  }\n\n  static forPath(path: string, params?: { [k: string]: ValueType }): UrlBuilder {\n    return new UrlBuilder(path).withParams(params);\n  }\n\n  withParams(params?: { [k: string]: ValueType }) {\n    if (params) {\n      Object.entries(params)\n          .forEach(([name, value]) => this.withParam(name, value));\n    }\n    return this;\n  }\n\n  withParam(name: string, value: ValueType): this {\n    if (value == null) {\n      return this;\n    }\n\n    if (typeof value === 'boolean') {\n      this.params.set(name, '');\n    } else if (typeof value === 'number') {\n      this.params.set(name, String(value));\n    } else if (typeof value === 'string') {\n      this.params.set(name, value);\n    } else if (Array.isArray(value)) {\n      this.params.set(name, value);\n    } else {\n      throw new Error('Unknown parameter type: ' + typeof value);\n    }\n\n    return this;\n  }\n\n  build() {\n    const paramSet = Array.from(this.params.entries())\n        .reduce<[string, string][]>((entries, [param, value]) => {\n          if (Array.isArray(value)) {\n            value.forEach(v => entries.push([param, v]));\n          } else {\n            entries.push([param, value]);\n          }\n          return entries;\n        }, [])\n        .map(([param, value]) => {\n          return `${encodeURIComponent(param)}=${encodeURIComponent(value)}`;\n        });\n    const qs = paramSet.length > 0\n        ? '?' + paramSet.join('&')\n        : '';\n    return `${this.path}${qs}`;\n  }\n}\n","import { UrlBuilder } from 'base/url_builder';\nimport { HttpService } from '../http/http_service';\nimport {\n  CreateOrderRequest,\n  CreateOrderResponse,\n  GetOrdersRequest,\n  GetOrdersResponse,\n  OrderStatusUtil,\n  UpdateOrderRequest,\n  UpdateOrderResponse,\n} from './order_dto';\nimport { OrderService } from './order_service';\n\nexport class HttpOrderClient implements OrderService {\n  constructor(\n      private readonly httpService: HttpService,\n  ) {\n  }\n\n  async getOrders(req: GetOrdersRequest): Promise<GetOrdersResponse> {\n    const data = await this.httpService.get(\n        UrlBuilder.forPath('/orders', {\n              createdAfter: req.createdAfter,\n              createdBy: req.createdBy,\n              limit: req.limit,\n              statuses: req.statuses.map(OrderStatusUtil.serialize),\n            })\n            .build(),\n    );\n    return GetOrdersResponse.deserialize(data);\n  }\n\n  async createOrder(req: CreateOrderRequest): Promise<CreateOrderResponse> {\n    const resp = await this.httpService.post('/orders', CreateOrderRequest.serialize(req));\n    return CreateOrderResponse.deserialize(resp);\n  }\n\n  async updateOrder(req: UpdateOrderRequest): Promise<UpdateOrderResponse> {\n    const resp = await this.httpService.post(\n        `/orders/${req.orderId}`,\n        UpdateOrderRequest.serialize(req),\n    );\n    return UpdateOrderResponse.deserialize(resp);\n  }\n}\n","import { idGenerator } from 'base/id_generator';\nimport { UserInfo } from 'services/user/user_dto';\n\nconst userIdGenerator = idGenerator('UAAAAA', 1);\n\nexport function aUserInfoWith() {\n  return new UserInfo({\n    id: userIdGenerator(),\n    name: 'Nick Whyte',\n    roles: [],\n  });\n}\n","import { delay } from 'base/delay';\nimport { aUserInfoWith } from 'services/user/fake/builders';\nimport { GetUserInfoRequest, GetUserInfoResponse } from 'services/user/user_dto';\nimport { UserService } from 'services/user/user_service';\n\nexport class FakeUserService implements UserService {\n  constructor(private readonly delay: number) {\n  }\n\n  async getUserInfo(req: GetUserInfoRequest): Promise<GetUserInfoResponse> {\n    await delay(this.delay);\n    return new GetUserInfoResponse({\n      user: aUserInfoWith(),\n    });\n  }\n}\n","import { HttpService } from 'services/http/http_service';\nimport { UserService } from 'services/user/user_service';\nimport { GetUserInfoRequest, GetUserInfoResponse } from './user_dto';\n\nexport class HttpUserClient implements UserService {\n  constructor(\n      private readonly httpService: HttpService,\n  ) {\n  }\n\n  async getUserInfo(req: GetUserInfoRequest): Promise<GetUserInfoResponse> {\n    const data = await this.httpService.get('/users/' + req.id);\n    return GetUserInfoResponse.deserialize(data);\n  }\n}\n","import { History } from 'history';\nimport React from 'react';\nimport { Router } from 'react-router';\nimport styles from './skeleton.module.css';\n\nexport const Skeleton = React.memo(({\n  Header,\n  Content,\n  AppTabs,\n  history,\n}: {\n  Header: React.ComponentType,\n  Content: React.ComponentType,\n  AppTabs: React.ComponentType,\n  history: History,\n}) => (\n    <Router history={history}>\n      <div className={styles.headerContainer}>\n        <Header/>\n      </div>\n      <main className={styles.contentContainer}>\n        <Content/>\n      </main>\n      <AppTabs/>\n    </Router>\n));\n","import { createAuthDecorators, getInitialRoute } from 'auth/auth_helpers';\nimport { Deserialization } from 'base/deserialization';\nimport { Bootstrap } from 'bootstrap_dto';\nimport { createHeader } from 'header/create';\nimport { createBrowserHistory } from 'history';\nimport { createAuthPage } from 'pages/auth/create';\nimport { createHomePage } from 'pages/home/create';\nimport { createOrderFormFlow } from 'pages/order_form/create';\nimport { createOrdersPage } from 'pages/orders/create';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { Routes } from 'routes/routes';\nimport { installServices } from 'services/install';\nimport { Skeleton } from 'skeleton/skeleton';\nimport { withContainer } from 'ui/container/container';\nimport './index.css';\n\nfunction main() {\n  const {\n    user,\n    mode,\n  } = Deserialization.requiredObject(Bootstrap.deserialize, window, 'bootstrap');\n\n  const { orderService } = installServices(mode);\n\n  const history = createBrowserHistory();\n\n  const { OrdersPage } = createOrdersPage({ orderService });\n  const { HomePage, refreshOrders } = createHomePage({ orderService, history });\n  const { AuthPage } = createAuthPage();\n  const { OrderFormFlow } = createOrderFormFlow({ history, orderService, refreshOrders });\n\n  const { withAuthRequired, withAnonOnly } = createAuthDecorators({\n    user,\n  });\n\n  const { Header } = createHeader({ userInfo: user });\n  const HomePageImpl = withContainer(withAuthRequired(HomePage));\n  const OrdersPageImpl = withAuthRequired(OrdersPage/*, Role.CAFE_STAFF */);\n  const AuthPageImpl = withContainer(withAnonOnly(AuthPage));\n  const OrderFormFlowImpl = withContainer(withAuthRequired(OrderFormFlow));\n\n  const AppContent = () => (\n      <Switch>\n        <Route path={Routes.login()} component={AuthPageImpl}/>\n        <Route path={Routes.orders()} component={OrdersPageImpl}/>\n        <Route path={Routes.newOrder()} component={OrderFormFlowImpl}/>\n        <Route path={Routes.home()} component={HomePageImpl}/>\n        <Redirect to={getInitialRoute(user)}/>\n      </Switch>\n  );\n\n  const AppImpl = () => (\n      <Skeleton\n          history={history}\n          AppTabs={() => <div></div>}\n          Header={Header}\n          Content={AppContent}\n      />\n  );\n\n  ReactDOM.render(<AppImpl/>, document.getElementById('root'));\n}\n\nmain();\n","import { Mode } from 'bootstrap_dto';\nimport { FetchHttpClient } from 'services/http/fetch_http_client';\nimport { FakeOrderService } from 'services/order/fake/fake_order_service';\nimport { HttpOrderClient } from 'services/order/http_order_client';\nimport { OrderService } from 'services/order/order_service';\nimport { FakeUserService } from 'services/user/fake/fake_user_service';\nimport { HttpUserClient } from 'services/user/http_user_client';\nimport { UserService } from 'services/user/user_service';\n\nconst FAKE_MODE_DELAY = 500;\n\nexport function installServices(mode: Mode): {\n  orderService: OrderService,\n  userService: UserService,\n} {\n  switch (mode) {\n    case Mode.FAKE:\n      return {\n        orderService: new FakeOrderService(FAKE_MODE_DELAY),\n        userService: new FakeUserService(FAKE_MODE_DELAY),\n      };\n    case Mode.REAL:\n      const httpService = new FetchHttpClient();\n      return {\n        orderService: new HttpOrderClient(httpService),\n        userService: new HttpUserClient(httpService),\n      };\n  }\n}\n","import * as mobxReact from 'mobx-react';\nimport { OrderCardStore, OrdersPresenter, OrdersStore } from 'pages/orders/orders_presenter';\nimport React from 'react';\nimport { OrderService } from 'services/order/order_service';\nimport { OrdersGrid, OrdersPage } from './orders';\n\nexport function createOrdersPage({\n  orderService,\n}: {\n  orderService: OrderService,\n}) {\n  const store = new OrdersStore();\n  const presenter = new OrdersPresenter(orderService);\n  const onMount = () => {\n    presenter.refreshOrders(store);\n    return presenter.subscribeToUpdates(store);\n  };\n\n  const onOrderClick = (card: OrderCardStore) =>\n      presenter.handleOrderCardClick(store, card);\n  const onOrderLongPress = (card: OrderCardStore) =>\n      presenter.handleOrderCardLongPress(store, card);\n\n  const OrdersGridImpl = mobxReact.observer(() => (\n      <OrdersGrid\n          onOrderCardClick={onOrderClick}\n          onOrderCardLongPress={onOrderLongPress}\n          cards={presenter.getActiveOrders(store)}/>\n  ));\n  const OrdersPageImpl = () => (\n      <OrdersPage\n          OrdersGrid={OrdersGridImpl}\n          onMount={onMount}\n      />\n  );\n  return { OrdersPage: OrdersPageImpl };\n}\n","import { delay } from 'base/delay';\nimport { History } from 'history';\nimport * as mobxReact from 'mobx-react';\nimport { Home } from 'pages/home/home';\nimport { HomePresenter, HomeStore } from 'pages/home/home_presenter';\nimport React from 'react';\nimport { Routes } from 'routes/routes';\nimport { OrderService } from 'services/order/order_service';\n\nexport function createHomePage({\n  orderService,\n  history,\n}: {\n  orderService: OrderService,\n  history: History\n}) {\n  const onNewOrderClick = () => history.push(Routes.newOrder());\n  const onOrderAgainClick = () => void 0;\n\n  const store = new HomeStore();\n  const presenter = new HomePresenter(orderService);\n\n  const onMount = () => {\n    presenter.loadOrderDetails(store);\n    presenter.startRefreshTimer(store);\n  };\n  const onWillUnmount = () => presenter.stopRefreshTimer(store);\n\n  const HomeImpl = mobxReact.observer(() => (\n      <Home\n          onMount={onMount}\n          onWillUnmount={onWillUnmount}\n          activeOrders={store.activeOrders}\n          previousOrder={store.previousOrder}\n          onNewOrderClick={onNewOrderClick}\n          onOrderAgainClick={onOrderAgainClick}\n      />\n  ));\n\n  return {\n    HomePage: HomeImpl,\n    refreshOrders: () => delay(500),\n  };\n}\n\n","import { AuthPage } from './auth';\n\nexport function createAuthPage() {\n  return { AuthPage };\n}\n","import { Header } from 'header/header';\nimport * as mobxReact from 'mobx-react';\nimport React from 'react';\nimport { UserInfo } from 'services/user/user_dto';\n\n\nexport function createHeader({\n  userInfo,\n}: {\n  userInfo: UserInfo | undefined,\n}) {\n  const HeaderImpl = mobxReact.observer(() => {\n    return (\n        <Header\n            userInfo={userInfo}\n        />\n    );\n  });\n\n  return {\n    Header: HeaderImpl,\n  };\n}\n"],"sourceRoot":""}